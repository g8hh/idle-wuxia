(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[61],{3471:function(e,t,r){Promise.resolve().then(r.bind(r,617))},617:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return rZ}});var a=r(7437),i=r(3844),n=r.n(i),s=r(6480),c=r.n(s),l=r(5933),o=r.n(l),d=r(2846);function u(){return(u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}var p=function(e){return d.createElement("svg",u({xmlns:"http://www.w3.org/2000/svg",width:46.598,height:22.712,viewBox:"0 0 12.329 6.009"},e),d.createElement("path",{d:"M81.636 119.47v-5.744h5.745",style:{fill:"none",strokeWidth:.529167,strokeLinecap:"butt",strokeLinejoin:"miter",strokeMiterlimit:4,strokeDasharray:"none",strokeOpacity:1},transform:"translate(-79.625 -113.461)"}),d.createElement("path",{d:"M79.892 116.872H91.69v-1.54h-11.78ZM86.395 115.341v1.548M85.162 113.77v1.547",style:{fill:"none",strokeWidth:.529167,strokeLinecap:"butt",strokeLinejoin:"miter",strokeMiterlimit:4,strokeDasharray:"none",strokeOpacity:1},transform:"translate(-79.625 -113.461)"}))},_=r(828),h=r(982),m=()=>{let e=(0,h.useTranslations)(),t=(0,_.v9)(e=>e.resources);return(0,a.jsxs)("div",{className:c()(o().wrapper),children:[(0,a.jsxs)("div",{className:o().statGroup,children:[(0,a.jsx)("h2",{className:o().statHead,children:e("common.currency")}),(0,a.jsxs)("div",{className:o().stat,children:[(0,a.jsx)("span",{className:o().statLabel,children:e("resources.currencyT1")}),(0,a.jsxs)("span",{className:o().statValue,children:[Math.round(t.currencyT1),t.uncapCurrency?"":"/"+(t.capT1+t.capCurrency)]})]}),t.currencyT3>0&&(0,a.jsxs)("div",{className:o().stat,children:[(0,a.jsx)("span",{className:o().statLabel,children:e("resources.currencyT3")}),(0,a.jsxs)("span",{className:o().statValue,children:[Math.round(t.currencyT3),t.uncapCurrency?"":"/"+(t.capT3+t.capCurrency)]})]}),t.currencyT5>0&&(0,a.jsxs)("div",{className:o().stat,children:[(0,a.jsx)("span",{className:o().statLabel,children:e("resources.currencyT5")}),(0,a.jsxs)("span",{className:o().statValue,children:[Math.round(t.currencyT5),t.uncapCurrency?"":"/"+(t.capT5+t.capCurrency)]})]})]}),(0,a.jsxs)("div",{className:o().statGroup,children:[(0,a.jsx)("h2",{className:o().statHead,children:e("common.herbs")}),(0,a.jsxs)("div",{className:o().stat,children:[(0,a.jsx)("span",{className:o().statLabel,children:e("tier.1")}),(0,a.jsxs)("span",{className:o().statValue,children:[Math.round(t.herbsT1),"/",t.capT1+t.capHerbs]})]}),t.herbsT2>0&&(0,a.jsxs)("div",{className:o().stat,children:[(0,a.jsx)("span",{className:o().statLabel,children:e("tier.2")}),(0,a.jsxs)("span",{className:o().statValue,children:[Math.round(t.herbsT2),"/",t.capT2+t.capHerbs]})]}),t.herbsT3>0&&(0,a.jsxs)("div",{className:o().stat,children:[(0,a.jsx)("span",{className:o().statLabel,children:e("tier.3")}),(0,a.jsxs)("span",{className:o().statValue,children:[Math.round(t.herbsT3),"/",t.capT3+t.capHerbs]})]}),t.herbsT4>0&&(0,a.jsxs)("div",{className:o().stat,children:[(0,a.jsx)("span",{className:o().statLabel,children:e("tier.4")}),(0,a.jsxs)("span",{className:o().statValue,children:[Math.round(t.herbsT4),"/",t.capT4+t.capHerbs]})]}),t.herbsT5>0&&(0,a.jsxs)("div",{className:o().stat,children:[(0,a.jsx)("span",{className:o().statLabel,children:e("tier.5")}),(0,a.jsxs)("span",{className:o().statValue,children:[Math.round(t.herbsT5),"/",t.capT5+t.capHerbs]})]})]}),(0,a.jsxs)("div",{className:o().statGroup,children:[(0,a.jsx)("h2",{className:o().statHead,children:e("common.wood")}),(0,a.jsxs)("div",{className:o().stat,children:[(0,a.jsx)("span",{className:o().statLabel,children:e("tier.1")}),(0,a.jsxs)("span",{className:o().statValue,children:[Math.round(t.woodT1),"/",t.capT1+t.capWood]})]}),t.woodT2>0&&(0,a.jsxs)("div",{className:o().stat,children:[(0,a.jsx)("span",{className:o().statLabel,children:e("tier.2")}),(0,a.jsxs)("span",{className:o().statValue,children:[Math.round(t.woodT2),"/",t.capT2+t.capWood]})]}),t.woodT3>0&&(0,a.jsxs)("div",{className:o().stat,children:[(0,a.jsx)("span",{className:o().statLabel,children:e("tier.3")}),(0,a.jsxs)("span",{className:o().statValue,children:[Math.round(t.woodT3),"/",t.capT3+t.capWood]})]}),t.woodT4>0&&(0,a.jsxs)("div",{className:o().stat,children:[(0,a.jsx)("span",{className:o().statLabel,children:e("tier.4")}),(0,a.jsxs)("span",{className:o().statValue,children:[Math.round(t.woodT4),"/",t.capT4+t.capWood]})]}),t.woodT5>0&&(0,a.jsxs)("div",{className:o().stat,children:[(0,a.jsx)("span",{className:o().statLabel,children:e("tier.5")}),(0,a.jsxs)("span",{className:o().statValue,children:[Math.round(t.woodT5),"/",t.capT5+t.capWood]})]})]}),(0,a.jsxs)("div",{className:o().statGroup,children:[(0,a.jsx)("h2",{className:o().statHead,children:e("common.ore")}),(0,a.jsxs)("div",{className:o().stat,children:[(0,a.jsx)("span",{className:o().statLabel,children:e("tier.1")}),(0,a.jsxs)("span",{className:o().statValue,children:[Math.round(t.oreT1),"/",t.capT1+t.capOre]})]}),t.oreT2>0&&(0,a.jsxs)("div",{className:o().stat,children:[(0,a.jsx)("span",{className:o().statLabel,children:e("tier.2")}),(0,a.jsxs)("span",{className:o().statValue,children:[Math.round(t.oreT2),"/",t.capT2+t.capOre]})]}),t.oreT3>0&&(0,a.jsxs)("div",{className:o().stat,children:[(0,a.jsx)("span",{className:o().statLabel,children:e("tier.3")}),(0,a.jsxs)("span",{className:o().statValue,children:[Math.round(t.oreT3),"/",t.capT3+t.capOre]})]}),t.oreT4>0&&(0,a.jsxs)("div",{className:o().stat,children:[(0,a.jsx)("span",{className:o().statLabel,children:e("tier.4")}),(0,a.jsxs)("span",{className:o().statValue,children:[Math.round(t.oreT4),"/",t.capT4+t.capOre]})]}),t.oreT5>0&&(0,a.jsxs)("div",{className:o().stat,children:[(0,a.jsx)("span",{className:o().statLabel,children:e("tier.5")}),(0,a.jsxs)("span",{className:o().statValue,children:[Math.round(t.oreT5),"/",t.capT5+t.capOre]})]})]}),(0,a.jsxs)("div",{className:o().statGroup,children:[(0,a.jsx)("h2",{className:o().statHead,children:e("common.leather")}),(0,a.jsxs)("div",{className:o().stat,children:[(0,a.jsx)("span",{className:o().statLabel,children:e("tier.1")}),(0,a.jsxs)("span",{className:o().statValue,children:[Math.round(t.leatherT1),"/",t.capT1+t.capLeather]})]}),t.leatherT2>0&&(0,a.jsxs)("div",{className:o().stat,children:[(0,a.jsx)("span",{className:o().statLabel,children:e("tier.2")}),(0,a.jsxs)("span",{className:o().statValue,children:[Math.round(t.leatherT2),"/",t.capT2+t.capLeather]})]}),t.leatherT3>0&&(0,a.jsxs)("div",{className:o().stat,children:[(0,a.jsx)("span",{className:o().statLabel,children:e("tier.3")}),(0,a.jsxs)("span",{className:o().statValue,children:[Math.round(t.leatherT3),"/",t.capT3+t.capLeather]})]}),t.leatherT4>0&&(0,a.jsxs)("div",{className:o().stat,children:[(0,a.jsx)("span",{className:o().statLabel,children:e("tier.4")}),(0,a.jsxs)("span",{className:o().statValue,children:[Math.round(t.leatherT4),"/",t.capT4+t.capLeather]})]}),t.leatherT5>0&&(0,a.jsxs)("div",{className:o().stat,children:[(0,a.jsx)("span",{className:o().statLabel,children:e("tier.5")}),(0,a.jsxs)("span",{className:o().statValue,children:[Math.round(t.leatherT5),"/",t.capT5+t.capLeather]})]})]}),(0,a.jsxs)("div",{className:o().statGroup,children:[(0,a.jsx)("h2",{className:o().statHead,children:e("common.beast_core")}),(0,a.jsxs)("div",{className:o().stat,children:[(0,a.jsx)("span",{className:o().statLabel,children:e("tier.1")}),(0,a.jsxs)("span",{className:o().statValue,children:[Math.round(t.beastCoreT1),"/",t.capT1+t.capBeastCore]})]}),t.beastCoreT2>0&&(0,a.jsxs)("div",{className:o().stat,children:[(0,a.jsx)("span",{className:o().statLabel,children:e("tier.2")}),(0,a.jsxs)("span",{className:o().statValue,children:[Math.round(t.beastCoreT2),"/",t.capT2+t.capBeastCore]})]}),t.beastCoreT3>0&&(0,a.jsxs)("div",{className:o().stat,children:[(0,a.jsx)("span",{className:o().statLabel,children:e("tier.3")}),(0,a.jsxs)("span",{className:o().statValue,children:[Math.round(t.beastCoreT3),"/",t.capT3+t.capBeastCore]})]}),t.beastCoreT4>0&&(0,a.jsxs)("div",{className:o().stat,children:[(0,a.jsx)("span",{className:o().statLabel,children:e("tier.4")}),(0,a.jsxs)("span",{className:o().statValue,children:[Math.round(t.beastCoreT4),"/",t.capT4+t.capBeastCore]})]}),t.beastCoreT5>0&&(0,a.jsxs)("div",{className:o().stat,children:[(0,a.jsx)("span",{className:o().statLabel,children:e("tier.5")}),(0,a.jsxs)("span",{className:o().statValue,children:[Math.round(t.beastCoreT5),"/",t.capT5+t.capBeastCore]})]})]})]})},f=()=>(0,a.jsxs)("div",{className:c()(o().wrapper),children:[(0,a.jsx)("div",{className:c()(o().inner),children:(0,a.jsx)(m,{})}),(0,a.jsx)(p,{className:c()(o().cornercap,o().cornercapTopLeft)}),(0,a.jsx)(p,{className:c()(o().cornercap,o().cornercapTopRight)}),(0,a.jsx)("div",{className:o().borderfadeLeft})]}),y=r(5884),v=r.n(y),b=r(8508),g={i8:"0.1"},x=r(3957),T=r.n(x),j=r(5019),k=r.n(j);let S={isLoaded:!1,isRestarting:!1,showOrbs:!0,showIntro:!0,version:parseFloat(g.i8),showAll:!1,tickRate:500,tickMulti:1,activeScreen:"activities"},A=(0,b.oM)({name:"settings",initialState:S,reducers:{setInitialState:(e,t)=>T()(e,t.payload),adjustByKey(e,t){let{key:r,value:a}=t.payload;if(a<0){k()(e,r,0);return}k()(e,r,a)},setTickMulti(e,t){let{tickMulti:r}=t.payload;e.tickMulti=r},toggleShowAll(e){e.showAll=!e.showAll},setActiveScreen(e,t){let{id:r}=t.payload;e.activeScreen=r}}}),{toggleShowAll:C}=A.actions,L=(0,b.oM)({name:"activities",initialState:{hidden:[],assignments:[]},reducers:{setInitialState:(e,t)=>T()(e,t.payload),adjustByKey(e,t){},toggleHidden(e,t){let{id:r}=t.payload;e.hidden.includes(r)?e.hidden=e.hidden.filter(e=>e!==r):e.hidden=[...e.hidden,r]},assign(e,t){let{id:r,qty:a}=t.payload,i=e.assignments.find(e=>e.id===r);i?i.qty=a:e.assignments=[...e.assignments,{id:r,qty:a}]}}}),{toggleHidden:N}=L.actions;var w=r(4750),q=r.n(w);let B=(0,b.oM)({name:"resources",initialState:{capT1:1e3,capT2:1e3,capT3:1e3,capT4:1e3,capT5:1e3,capCurrency:0,uncapCurrency:!1,currencyT1:0,currencyT3:0,currencyT5:0,capHerbs:0,herbsT1:0,herbsT2:0,herbsT3:0,herbsT4:0,herbsT5:0,capWood:0,woodT1:0,woodT2:0,woodT3:0,woodT4:0,woodT5:0,capOre:0,oreT1:0,oreT2:0,oreT3:0,oreT4:0,oreT5:0,capLeather:0,leatherT1:0,leatherT2:0,leatherT3:0,leatherT4:0,leatherT5:0,capBeastCore:0,beastCoreT1:0,beastCoreT2:0,beastCoreT3:0,beastCoreT4:0,beastCoreT5:0},reducers:{setInitialState:(e,t)=>T()(e,t.payload),adjustByKey(e,t){let{key:r,value:a}=t.payload;if("number"==typeof a){let t=Math.round(((q()(e,r)||0)+a)*100)/100;if(t<0)k()(e,r,0);else{let a=M(e,r);a>-1&&t>a?k()(e,r,a):k()(e,r,t)}}"boolean"==typeof a&&k()(e,r,a)}}}),M=(e,t)=>{if(t.includes("cap")||t.includes("currency")&&e.uncapCurrency)return -1;let r=0;return t.includes("T1")&&(r+=e.capT1),t.includes("T2")&&(r+=e.capT2),t.includes("T3")&&(r+=e.capT3),t.includes("T4")&&(r+=e.capT4),t.includes("T5")&&(r+=e.capT5),t.includes("currency")&&(r+=e.capCurrency),t.includes("herbs")&&(r+=e.capHerbs),t.includes("wood")&&(r+=e.capWood),t.includes("leather")&&(r+=e.capLeather),t.includes("beastCore")&&(r+=e.capBeastCore),r},O=e=>{let t=e.player.miscEntities.filter(e=>e),r=e.home.furnitures.filter(e=>e);return[...e.home.areas.filter(e=>e),...r,...t,...Object.keys(e.equipment.slots).map(t=>e.equipment.slots[t]).flat().filter(e=>e)]},I=function(e,t){let r=!(arguments.length>2)||void 0===arguments[2]||arguments[2];return eX(O(e).find(e=>r?e.id===t:e.id.includes(t)))},E=e=>e.inventory.filter(e=>null===e).length,P=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return E(e)>=t},W=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=0;return e.forEach(e=>{r?e&&JSON.stringify({...e,qty:void 0})===JSON.stringify({...t,qty:void 0})&&"qty"in e&&(a+=e.qty||0):e&&e.id===t.id&&"qty"in e&&(a+=e.qty||0)}),a},R=(e,t)=>{let r=0;return e.forEach(e=>{e&&e.id===t&&"qty"in e&&(r+=e.qty||0)}),r},D=(e,t)=>{let r=[];return e.forEach(e=>{e&&e.id===t&&r.push(e)}),r},G=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=0;return e.forEach(e=>{e&&e.id===t.id&&(e.quality||1)>=Number(r)&&(a+=e.qty||1)}),a},H=(e,t)=>Math.max(e*Math.pow(2,t),e),F=(e,t)=>Math.max(K(e*Math.pow(1.75,t)),e),z=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.max(e*Math.pow(2,2*t/r),e)},Q=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.max(K(e*Math.pow(3,t/r)),e)},K=e=>e<50?1*Math.round(e/1):e<250?10*Math.round(e/10):e<2500?100*Math.round(e/100):e<25e3?1e3*Math.round(e/1e3):1e4*Math.round(e/1e4),J=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"exponential";if("none"===r)return e;if("linear"===r)return e+.25*(t-1)*e;{let r=e/2,a=0;for(let e=1;e<t;e++)a+=r,r*=2;return e+a}},V=e=>e.includes("_t1")?1:e.includes("_t2")?2:e.includes("_t3")?3:e.includes("_t4")?4:e.includes("_t5")?5:0,U=e=>e.replace(/_t[0-9]/,""),Y=(e,t,r)=>{let a=V(t);return(!(a>0)||t.includes("misc.spirit_stage")||t.includes("misc.meridians_stage")||t.includes("misc.body_stage")?"":e("tier.".concat(a))+" ")+Z(e,t,r)},Z=(e,t,r)=>{let a=U(t),i="";try{i=e(a)}catch(e){}return i&&i!==a?i:r||""},X=e=>Math.round(100*e)/100,$=e=>{let t=X(100*e);return"".concat(t>=0?"+":"").concat(t,"%")},ee=e=>e.reduce((e,t)=>e+t.qty,0),et=(e,t)=>{let r;for(let a in t){let i=t[a];if("function"==typeof t[a]&&(i=i(e)),"number"==typeof i&&i<0){let t=q()(e,a);if("number"!=typeof t)continue;let n=t/Math.abs(i);(!r||n<r)&&(r=n)}}return r},er=()=>Math.random().toString(16).slice(2),ea=(e,t)=>{if(t>e.length)e=[...e,...Array(t-e.length).fill(null)];else if(t<e.length){let r=e.slice(0,t);for(let a of e.slice(t).filter(e=>null!==e)){let e=r.indexOf(null);-1!==e?r[e]=a:r.push(a)}e=r}return e},ei=(e,t,r)=>{if(!t.effectsOnTick)return{};let a={};return Object.keys(t.effectsOnTick).forEach(i=>{let n=t.effectsOnTick[i];"function"==typeof n&&(n=n(e)),"number"==typeof n&&(a[i]=n*r)}),a},en=(0,b.oM)({name:"adventures",initialState:{hidden:[],assignments:[],battles:{},loot:[],selectedAdventure:void 0,creaturesSeen:[],creaturesCapturing:[]},reducers:{setInitialState:(e,t)=>T()(e,t.payload),adjustByKey(e,t){},toggleHidden(e,t){let{id:r}=t.payload;e.hidden.includes(r)?e.hidden=e.hidden.filter(e=>e!==r):e.hidden=[...e.hidden,r]},assign(e,t){let{id:r,qty:a}=t.payload,i=e.assignments.find(e=>e.id===r);i?i.qty=a:e.assignments=[...e.assignments,{id:r,qty:a}]},clearAssignmentBattles(e,t){let{id:r}=t.payload;e.assignments.find(e=>e.id===r)&&delete e.battles[r]},updateAssignmentBattles(e,t){let{id:r,battles:a}=t.payload;e.assignments.find(e=>e.id===r)&&(e.battles[r]=a)},setSelectedAdventure(e,t){let{id:r}=t.payload;e.selectedAdventure=r},addToLoot(e,t){let{item:r}=t.payload,a=[...e.loot];r.uid=er(),a.push(r),e.loot=a},removeFromLoot(e,t){let{index:r}=t.payload,a=[...e.loot];a.splice(r,1),e.loot=a},creatureSeen(e,t){let{id:r}=t.payload;e.creaturesSeen.includes(r)||e.creaturesSeen.push(r)},toggleCreatureCapturing(e,t){let{id:r}=t.payload;e.creaturesCapturing.includes(r)?e.creaturesCapturing=e.creaturesCapturing.filter(e=>e!==r):e.creaturesCapturing.push(r)}}}),{toggleHidden:es}=en.actions,ec=(0,b.oM)({name:"crafting",initialState:{assigned:0,recipes:[],queue:[]},reducers:{setInitialState:(e,t)=>T()(e,t.payload),adjustByKey(e,t){},assign(e,t){let{qty:r}=t.payload;e.assigned=r},addQueue(e,t){let{id:r,qty:a}=t.payload,i={uid:er(),id:r,method:"xtimes",qty:a,minQuality:1};e.queue=[...e.queue,i]},removeQueue(e,t){let{index:r}=t.payload;r>=0&&r<e.queue.length&&e.queue.splice(r,1)},updateQueued(e,t){let{index:r,qty:a,method:i,canCraft:n,minQuality:s}=t.payload;if(r>=0&&r<e.queue.length){let t={...e.queue[r]};void 0!==a&&(t.qty=a),void 0!==i&&(t.method=i),void 0!==s&&(t.minQuality=s),void 0!==n&&(t.canCraft=n),e.queue[r]=t}},replaceQueue(e,t){let{queue:r}=t.payload;e.queue=r},learnRecipe(e,t){let{id:r}=t.payload;e.recipes.includes(r)||r.includes("blueprint.")||(e.recipes=[...e.recipes,r])}}});class el{unlocked(e){return!0}calcEffects(e,t,r){for(let r in t={...t})"function"==typeof t[r]&&(t[r]=t[r](e));for(let a in"activity"===this.type&&(t=e$(e,t)),"tick"===r&&(t=e0(e,t)),t)"number"!=typeof t[a]||a.includes("areaSize.")||(t[a]=J(t[a],this.quality,this.qualityScale));for(let e in t)"resources.currencyT2"===e&&"number"==typeof t[e]&&(t["resources.currencyT1"]=t[e],delete t[e]),"resources.currencyT4"===e&&"number"==typeof t[e]&&(t["resources.currencyT3"]=t[e],delete t[e]);for(let e in t)0===t[e]&&delete t[e];return t}canBuy(e){let t=this.canDoEffects(e,this.effectsOnTrade),r="misc"===this.type||P(e.player);return t&&r}handleBuy(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.canBuy(e)){for(let a=0;a<r;a++)this.handleDoEffects(e,t,this.effectsOnTrade),"misc"!==this.type&&(t(te.actions.addToInventory({item:e8(this)})),t(ec.actions.learnRecipe({id:this.id})));"item"===this.type&&"upgrade"===this.subtype&&t(te.actions.adjustByKey({key:"upgradesPurchased.".concat(this.id.split(".")[1]),value:1}))}}canSell(e){let t=e5(e,e2(this.effectsOnTrade,e),this.id);return this.canDoEffects(e,t)}handleSell(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=!(arguments.length>3)||void 0===arguments[3]||arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this.canSell(e))return;let n=e5(e,e2(this.effectsOnTrade,e),this.id);for(let s=0;s<r;s++)this.handleDoEffects(e,t,n),a&&t(te.actions.removeFromInventory({item:e8(this)})),i&&t(en.actions.removeFromLoot({item:e8(this)}));"item"===this.type&&"upgrade"===this.subtype&&t(te.actions.adjustByKey({key:"upgradesPurchased.".concat(this.id.split(".")[1]),value:-1}))}canActivate(e){return this.canDoEffects(e,e1(e,this.effectsWhileActive,this.effectsOnActivate),"activate")}handleActivate(e,t){this.handleDoEffects(e,t,e1(e,this.effectsWhileActive,this.effectsOnActivate),"activate")}canDeactivate(e,t){let r=e2(this.effectsWhileActive,e);return this.canDoEffects(e,r)}handleDeactivate(e,t){if(!this.canDeactivate(e))return;let r=e2(this.effectsWhileActive,e);this.handleDoEffects(e,t,r)}canTick(e,t){return this.canDoEffects(e,this.effectsOnTick,"tick")}handleTick(e,t){this.effectsOnTick&&(this.tickDuration&&t(te.actions.miscEntityTickDown({id:this.id})),this.handleDoEffects(e,t,this.effectsOnTick,"tick"))}canDoEffects(e,t,r){if(!t||"blueprint"===this.subtype&&"activate"===r)return!0;let a=[];for(let i in t=this.calcEffects(e,t,r))try{let r=t[i];if("number"==typeof r){let t=q()(e,i);if(i.includes("item.")&&(t=R(e.player.inventory,i)),"number"!=typeof t)return console.error("".concat(i," is undefined or not a number in state.")),!1;if(t+r<0)return!1;if(r>0&&i.includes("current")){let r=i.replace("current","max"),n=q()(e,r);"number"==typeof n&&(t<n?a.push(!1):a.push(!0))}}}catch(e){}return!(a.length>0&&a.every(e=>!0===e))}handleDoEffects(e,t,r,a,i){if(!r||"blueprint"===this.subtype&&"activate"===a)return!0;if(!this.canDoEffects(e,r)&&!i)return!1;for(let i in r=this.calcEffects(e,r,a))try{let e=r[i];if("number"==typeof e||"boolean"==typeof e){let[r,...a]=i.split("."),n=a.join(".");i.includes("item.")&&"number"==typeof e?e>0?(t(te.actions.addToInventory({item:{id:i},qty:e})),t(ec.actions.learnRecipe({id:i}))):t(te.actions.removeFromInventory({item:{id:i},qty:Math.abs(e)})):tr[r]&&t(tr[r].adjustByKey({key:n,value:e}))}}catch(e){}return!0}constructor(e={}){this.id="invalid",this.label="Invalid Entity",this.desc="",this.type="generic",this.subtype="generic",this.tier=1,this.assignable=!1,this.qty=1,Object.assign(this,e),"item"===this.type&&(this.effectsOnTrade=e.effectsOnTrade||{["resources.currencyT".concat(this.tier)]:-z(500,this.tier-1)})}}var eo=r(5137),ed=r.n(eo);let eu=(0,b.oM)({name:"equipment",initialState:{accessoryCap:2,techniqueCap:3,slots:{weapon:null,armor:null,storageRing:null,accessories:[null,null],toolHerb:null,toolWood:null,toolOre:null,mount:null,creature:null}},reducers:{setInitialState:(e,t)=>(ed()(t.payload,"slots.cultivationMethod"),ed()(t.payload,"slots.techniques"),T()(e,t.payload)),adjustByKey(e,t){let{key:r,value:a}=t.payload,i=Math.round(((q()(e,r)||0)+a)*100)/100;if(i<0){k()(e,r,0);return}"accessoryCap"===r&&(e.slots.accessories=ea(e.slots.accessories,i)),k()(e,r,i)},setByKey(e,t){let{key:r,value:a}=t.payload;k()(e,r,a)},equipItem(e,t){let{item:r,slot:a}=t.payload;if(!(a in e.slots))return;let i=e.slots[a];if(Array.isArray(i)){let e=i.indexOf(null);if(-1===e)return;i[e]=r;return}e.slots[a]=r},unequipItem(e,t){let{item:r,slot:a}=t.payload,{uid:i,id:n,quality:s}=r;if(!(a in e.slots))return;let c=e.slots[a];if(Array.isArray(c)){let e=c.findIndex(e=>e&&(!e.uid||e.uid===i)&&e.id===n&&e.quality===s);if(-1===e)return;c[e]=null;return}e.slots[a]=null}}}),ep=(e,t)=>{let r=eh(e,t);return r?eZ(r.id).tier:0},e_=(e,t)=>{if(!(t in e.slots))return!0;let r=e.slots[t];return Array.isArray(r)?-1===r.indexOf(null):null!==r},eh=(e,t)=>{if(!(t in e.slots))return null;let r=e.slots[t];return Array.isArray(r)?r.find(e=>null!==e)||null:r},em=[{id:"activity.create_avatar",label:"Create Avatar",desc:"Consume your lifeforce to create an avatar to do your bidding. Shift/Ctrl click to increase qty.",type:"activity",subtype:"main",unlocked:e=>e.player.journalEntries.includes("create_avatar"),effectsOnTick:{"player.stamina.current":-5,"player.qi.current":-5,"player.health.current":-5,"player.avatars.current":1}},{id:"activity.cultivate_spirit",label:"Cultivate Spirit",desc:"Improve your spirit through meditation",type:"activity",subtype:"cultivate",assignable:!0,effectsOnTick:{"player.stamina.current":-2,"player.spirit.current":1}},{id:"activity.cultivate_meridians",label:"Cultivate Meridians",desc:"Improve your meridians by circulating qi",type:"activity",subtype:"cultivate",assignable:!0,effectsOnTick:{"player.qi.current":-2,"player.meridians.current":1}},{id:"activity.cultivate_body",label:"Cultivate Body",desc:"Improve your body through exercise",type:"activity",subtype:"cultivate",assignable:!0,effectsOnTick:{"player.stamina.current":-1,"player.qi.current":-1,"player.body.current":1}},{id:"activity.work_begging",label:"Begging",desc:"Beg to earn gold. It doesnt cost anything except your dignity.",type:"activity",subtype:"work",assignable:!0,unlocked:e=>e.player.journalEntries.includes("need_elixir"),effectsOnTick:{"resources.currencyT1":1}},{id:"activity.work_performing",label:"Performing",desc:"Use your abilities to perform simple tricks.",type:"activity",subtype:"work",assignable:!0,unlocked:e=>e.player.journalEntries.includes("need_elixir"),effectsOnTick:{"player.stamina.current":-2,"player.qi.current":-4,"resources.currencyT1":5}},{id:"activity.work_labor",label:"Manual Labor",desc:"Use your body to perform manual labor.",type:"activity",subtype:"work",assignable:!0,unlocked:e=>e.player.journalEntries.includes("need_elixir"),effectsOnTick:{"player.stamina.current":-4,"player.health.current":-2,"resources.currencyT1":5}},{id:"activity.work_condense",label:"Condense Qi",desc:"Condense your own Qi into spirit stones",type:"activity",subtype:"work",assignable:!0,unlocked:e=>e.player.shopLevel>=2,effectsOnTick:{"player.qi.current":-2,"resources.currencyT3":2}},{id:"activity.work_healing",label:"Healing",desc:"Use your abilities to heal the sick",type:"activity",subtype:"work",assignable:!0,unlocked:e=>e.player.shopLevel>=2,effectsOnTick:{"player.stamina.current":-4,"player.qi.current":-2,"resources.currencyT3":5}},{id:"activity.work_bounty_hunting",label:"Bounty Hunting",desc:"Hunt cultivators with a bounty on their head",type:"activity",subtype:"work",assignable:!0,unlocked:e=>e.player.shopLevel>=2,effectsOnTick:{"player.stamina.current":-4,"player.health.current":-2,"resources.currencyT3":5}},{id:"activity.work_moonlight_harvesting",label:"Moonlight Harvesting",desc:"Harvest energy from the moonlight and stars to produce immortal stones",type:"activity",subtype:"work",assignable:!0,unlocked:e=>e.player.shopLevel>=4,effectsOnTick:{"player.qi.current":-2,"resources.currencyT5":2}},{id:"activity.work_excavation",label:"Ley Line Excavation",desc:"Harvest immortal energy from the earths unlimited ley lines",type:"activity",subtype:"work",assignable:!0,unlocked:e=>e.player.shopLevel>=4,effectsOnTick:{"player.stamina.current":-4,"player.qi.current":-2,"resources.currencyT5":5}},{id:"activity.work_weaving",label:"Dimensional Weaving",desc:"Weave the fabric of different dimensions together to produce immortal stones",type:"activity",subtype:"work",assignable:!0,unlocked:e=>e.player.shopLevel>=4,effectsOnTick:{"player.qi.current":-2,"player.health.current":-4,"resources.currencyT5":5}},{id:"activity.gather_herbs",label:"Herbs",desc:"Gather herbs from a nearby forest.",type:"activity",subtype:"gather",assignable:!0,unlocked:e=>e_(e.equipment,"toolHerb"),effectsOnTick:{"player.stamina.current":-2,"player.qi.current":-1,"resources.herbsT1":e=>ep(e.equipment,"toolHerb")>=1?1:0,"resources.herbsT2":e=>ep(e.equipment,"toolHerb")>=2?1:0,"resources.herbsT3":e=>ep(e.equipment,"toolHerb")>=3?1:0,"resources.herbsT4":e=>ep(e.equipment,"toolHerb")>=4?1:0,"resources.herbsT5":e=>ep(e.equipment,"toolHerb")>=5?1:0}},{id:"activity.gather_wood",label:"Wood",desc:"Gather wood from a nearby forest.",type:"activity",subtype:"gather",assignable:!0,unlocked:e=>e_(e.equipment,"toolWood"),effectsOnTick:{"player.stamina.current":-2,"player.qi.current":-1,"resources.woodT1":e=>ep(e.equipment,"toolWood")>=1?1:0,"resources.woodT2":e=>ep(e.equipment,"toolWood")>=2?1:0,"resources.woodT3":e=>ep(e.equipment,"toolWood")>=3?1:0,"resources.woodT4":e=>ep(e.equipment,"toolWood")>=4?1:0,"resources.woodT5":e=>ep(e.equipment,"toolWood")>=5?1:0}},{id:"activity.gather_ore",label:"Ore",desc:"Gather ore from a nearby forest.",type:"activity",subtype:"gather",assignable:!0,unlocked:e=>e_(e.equipment,"toolOre"),effectsOnTick:{"player.stamina.current":-2,"player.qi.current":-1,"resources.oreT1":e=>ep(e.equipment,"toolOre")>=1?1:0,"resources.oreT2":e=>ep(e.equipment,"toolOre")>=2?1:0,"resources.oreT3":e=>ep(e.equipment,"toolOre")>=3?1:0,"resources.oreT4":e=>ep(e.equipment,"toolOre")>=4?1:0,"resources.oreT5":e=>ep(e.equipment,"toolOre")>=5?1:0}}],ef=em.map(e=>new el(e)),ey=[...Array.from({length:5},(e,t)=>{let r=t+1;return{id:"creature.chicken_t".concat(r),label:"Chicken",type:"creature",subtype:"trivial",tier:r,health:z(10,t),attackPower:z(2,t)}}),...Array.from({length:5},(e,t)=>{let r=t+1;return{id:"creature.rabbit_t".concat(r),label:"Rabbit",type:"creature",subtype:"trivial",tier:r,health:z(10,t),attackPower:z(2,t),itemPool:{["item.rabbits_foot_t".concat(r)]:.01}}}),...Array.from({length:5},(e,t)=>{let r=t+1;return{id:"creature.eagle_t".concat(r),label:"Eagle",type:"creature",subtype:"normal",tier:r,health:z(75,t),attackPower:z(15,t)}}),...Array.from({length:5},(e,t)=>{let r=t+1;return{id:"creature.boar_t".concat(r),label:"Boar",type:"creature",subtype:"normal",tier:r,health:z(100,t),attackPower:z(10,t)}}),...Array.from({length:5},(e,t)=>{let r=t+1;return{id:"creature.serpent_t".concat(r),label:"Serpent",type:"creature",subtype:"normal",health:z(75,t),attackPower:z(25,t),tier:r}}),...Array.from({length:5},(e,t)=>{let r=t+1;return{id:"creature.flying_serpent_t".concat(r),label:"Flying Serpent",type:"creature",subtype:"normal",health:z(75,t),attackPower:z(30,t),tier:r}}),...Array.from({length:5},(e,t)=>{let r=t+1;return{id:"creature.tiger_t".concat(r),label:"Tiger",type:"creature",subtype:"normal",tier:r,health:z(150,t),attackPower:z(20,t)}}),...Array.from({length:5},(e,t)=>{let r=t+1;return{id:"creature.monkey_t".concat(r),label:"Monkey",type:"creature",subtype:"normal",tier:r,health:z(150,t),attackPower:z(30,t)}}),...Array.from({length:5},(e,t)=>{let r=t+1;return{id:"creature.wolf_t".concat(r),label:"Wolf",type:"creature",subtype:"normal",tier:r,health:z(150,t),attackPower:z(30,t)}}),...Array.from({length:5},(e,t)=>{let r=t+1;return{id:"creature.bear_t".concat(r),label:"Bear",type:"creature",subtype:"normal",tier:r,health:z(250,t),attackPower:z(25,t),itemPool:{["blueprint.item.spear_t".concat(r)]:.1}}}),...Array.from({length:5},(e,t)=>{let r=t+1;return{id:"creature.kirin_t".concat(r),label:"Kirin",type:"creature",subtype:"special",tier:r,health:z(450,t),attackPower:z(50,t),itemPool:{["blueprint.item.daggers_t".concat(r)]:.3,["item.merchants_script_t".concat(r)]:.02}}}),...Array.from({length:5},(e,t)=>{let r=t+1;return{id:"creature.black_tortoise_t".concat(r),label:"Black Tortoise",type:"creature",subtype:"special",tier:r,health:z(1e3,t),attackPower:z(20,t),itemPool:{["blueprint.item.qi_shield_t".concat(r)]:.3}}}),...Array.from({length:5},(e,t)=>{let r=t+1;return{id:"creature.dragon_t".concat(r),label:"Dragon",type:"creature",subtype:"special",tier:r,health:z(750,t),attackPower:z(100,t),itemPool:{["blueprint.item.staff_t".concat(r)]:.02,["item.prosperity_bag_t".concat(r)]:.02,["item.space_cube_t".concat(r)]:.02,"item.coffer_void":5===r?.02:0}}}),...Array.from({length:5},(e,t)=>{let r=t+1;return{id:"creature.phoenix_t".concat(r),label:"Phoenix",type:"creature",subtype:"special",tier:r,health:z(750,t),attackPower:z(150,t),itemPool:{["blueprint.item.flying_sword_t".concat(r)]:.02}}}),...Array.from({length:5},(e,t)=>{let r=t+1;return{id:"creature.leviathan_t".concat(r),label:"Leviathan",type:"creature",subtype:"special",tier:r,health:z(750,t),attackPower:z(150,t)}}),...Array.from({length:5},(e,t)=>{let r=t+1;return{id:"creature.earth_elemental_t".concat(r),label:"Earth Elemental",type:"creature",subtype:"special",tier:r,health:z(1e3,t),attackPower:z(20,t),itemPool:{["resources.leatherT".concat(r)]:0,["resources.beastCoreT".concat(r)]:3}}}),...Array.from({length:5},(e,t)=>{let r=t+1;return{id:"creature.water_elemental_t".concat(r),label:"Water Elemental",type:"creature",subtype:"special",tier:r,health:z(750,t),attackPower:z(25,t),itemPool:{["resources.leatherT".concat(r)]:0,["resources.beastCoreT".concat(r)]:3}}}),...Array.from({length:5},(e,t)=>{let r=t+1;return{id:"creature.air_elemental_t".concat(r),label:"Air Elemental",type:"creature",subtype:"special",tier:r,health:z(500,t),attackPower:z(40,t),itemPool:{["resources.leatherT".concat(r)]:0,["resources.beastCoreT".concat(r)]:3}}}),...Array.from({length:5},(e,t)=>{let r=t+1;return{id:"creature.fire_elemental_t".concat(r),label:"Fire Elemental",type:"creature",subtype:"special",tier:r,health:z(400,t),attackPower:z(60,t),itemPool:{["resources.leatherT".concat(r)]:0,["resources.beastCoreT".concat(r)]:3}}}),...Array.from({length:5},(e,t)=>{let r=t+1;return{id:"creature.avatar_t".concat(r),label:"Avatar",type:"creature",subtype:"special",tier:r,health:z(750,t),attackPower:z(150,t),isCapturable:!1}}),...Array.from({length:5},(e,t)=>{let r=t+1;return{id:"creature.betrayer_t".concat(r),label:"Betrayer",type:"creature",subtype:"special",tier:r,health:z(2e3,t),attackPower:z(200,t),isCapturable:!1}})],ev=[...Array.from({length:5},(e,t)=>{let r=t+1;return{id:"item.focus_pendant_t".concat(r),label:"Focus Pendant",tier:r,type:"item",subtype:"equipment",slot:"accessories",effectsOnTickMultipliers:{"player.spirit.current":.2*(t+1),"player.meridians.current":.2*(t+1),"player.body.current":.2*(t+1)},effectsOnCraft:{["resources.leatherT".concat(r)]:-z(50,t),["resources.oreT".concat(r)]:-z(100,t),["resources.beastCoreT".concat(r)]:-z(5,t)}}}),...Array.from({length:5},(e,t)=>{let r=t+1;return{id:"item.qi_shield_t".concat(r),label:"Qi Shield",tier:r,type:"item",subtype:"equipment",slot:"accessories",effectsWhileActive:{"player.defence":z(4,t)},effectsOnTick:{"player.qi.current":z(-2,t)},effectsOnCraft:{["resources.oreT".concat(r)]:-z(200,t),["resources.beastCoreT".concat(r)]:-z(5,t)}}}),...Array.from({length:5},(e,t)=>{let r=t+1;return{id:"item.warriors_bracelet_t".concat(r),label:"Warriors Bracelet",tier:r,type:"item",subtype:"equipment",slot:"accessories",effectsWhileActive:{"player.attackPower":z(4,t),"player.defence":z(2,t)},effectsOnCraft:{["resources.leatherT".concat(r)]:-z(100,t)}}}),...Array.from({length:5},(e,t)=>{let r=t+1;return{id:"item.fan_t".concat(r),label:"Fan",tier:r,type:"item",subtype:"equipment",slot:"accessories",effectsWhileActive:{"player.defence":z(2,t),"player.health.max":z(20,t)},effectsOnCraft:{["resources.leatherT".concat(r)]:-z(100,t)}}}),...Array.from({length:5},(e,t)=>{let r=t+1;return{id:"item.prosperity_bag_t".concat(r),label:"Prosperity Bag",padding:12,tier:r,type:"item",subtype:"equipment",slot:"accessories",effectsOnTick:{["resources.currencyT".concat(r-1)]:5}}}),...Array.from({length:5},(e,t)=>{let r=t+1;return{id:"item.rabbits_foot_t".concat(r),padding:15,tier:r,label:"Rabbit's Foot",type:"item",subtype:"equipment",slot:"accessories",qualityScale:"linear",effectsWhileActive:{"player.multipliers.dropRate":.1*r}}}),...Array.from({length:5},(e,t)=>{let r=t+1;return{id:"item.merchants_script_t".concat(r),label:"Merchant's Script",tier:r,type:"item",subtype:"equipment",slot:"accessories",qualityScale:"linear",effectsWhileActive:{"player.multipliers.sellFactor":.05*r}}}),...Array.from({length:5},(e,t)=>{let r=t+1;return{id:"item.space_cube_t".concat(r),label:"Space Cube",padding:15,tier:r,type:"item",subtype:"equipment",slot:"accessories",qualityScale:"linear",effectsWhileActive:{"home.areaCap":1*r}}})],eb=[...Array.from({length:3},(e,t)=>{let r=1;return 1===t&&(r=3),2===t&&(r=5),{id:"item.room_t".concat(r),label:"Room",desc:"Just a space for furniture",tier:r,type:"item",subtype:"area",unlocked:e=>e.home.islandLevel>=r-1,effectsWhileActive:{"home.areaSize.room":2+t}}}),...Array.from({length:3},(e,t)=>{let r=1;return 1===t&&(r=3),2===t&&(r=5),{id:"item.garden_t".concat(r),label:"Garden",tier:r,type:"item",subtype:"area",unlocked:e=>e.home.islandLevel>=r-1,effectsWhileActive:{"home.areaSize.garden":2+t}}}),...Array.from({length:3},(e,t)=>{let r=1;return 1===t&&(r=3),2===t&&(r=5),{id:"item.workshop_t".concat(r),label:"Workshop",tier:r,type:"item",subtype:"area",unlocked:e=>e.home.islandLevel>=r-1,effectsWhileActive:{"home.areaSize.workshop":2+t}}}),...Array.from({length:3},(e,t)=>{let r=1;return 1===t&&(r=3),2===t&&(r=5),{id:"item.vault_t".concat(r),label:"Vault",tier:r,type:"item",subtype:"area",unlocked:e=>e.home.islandLevel>=r-1,effectsWhileActive:{"home.areaSize.vault":2+t}}})],eg=[...Array.from({length:5},(e,t)=>{let r=t+1,a={id:"item.armor_t".concat(r),label:"Armor",tier:r,type:"item",subtype:"equipment",slot:"armor",isBuyableBlueprint:!0,effectsWhileActive:{"player.defence":z(8,t)},effectsOnCraft:{["resources.oreT".concat(r)]:-z(50,t),["resources.leatherT".concat(r)]:-z(100,t),["resources.beastCoreT".concat(r)]:-z(1,t)}};return 1===r&&(a.effectsOnCraft={["resources.oreT".concat(r)]:-z(50,t),["resources.leatherT".concat(r)]:-z(100,t)}),a})],ex=[...Array.from({length:5},(e,t)=>{let r=t+1;return{id:"item.breakthrough_elixir_t".concat(r),label:"Breakthrough Elixir",desc:"Assists with breaking through to the next stage",padding:20,tier:r,type:"item",subtype:"component",isBuyableBlueprint:!0,qualityScale:"none",effectsOnCraft:{["resources.herbsT".concat(r)]:-z(500,t),["resources.beastCoreT".concat(r)]:-z(10,t)}}}),...Array.from({length:5},(e,t)=>{let r=t+1;return{id:"item.resource_crate_t".concat(r),label:"Resource Crate",desc:"Resources bundled up into a crate",padding:8,tier:r,type:"item",subtype:"component",isBuyableBlueprint:!0,qualityScale:"none",effectsOnCraft:{["resources.herbsT".concat(r)]:-z(500,t),["resources.woodT".concat(r)]:-z(500,t),["resources.oreT".concat(r)]:-z(500,t),["resources.leatherT".concat(r)]:-z(500,t),["resources.beastCoreT".concat(r)]:-z(50,t)}}}),...Array.from({length:5},(e,t)=>{let r=t+1;return{id:"item.capture_crystal_t".concat(r),label:"Capture Crystal",desc:"Hold in inventory to capture creatures of the same tier. Mark creatures for capture in the bestiary. Quality of crystal determines strength of the creature.",padding:15,tier:r,type:"item",subtype:"component",isBuyableBlueprint:!0,effectsOnCraft:{["resources.beastCoreT".concat(r)]:-z(10,t)}}})],eT=[...Array.from({length:5},(e,t)=>{let r=t+1;return{id:"item.pill_spirit_t".concat(r),label:"Spirit Pill",desc:"Provides cultivation boost for a limited time",padding:20,tier:r,type:"item",subtype:"consumable",tickDuration:600,stackSize:100,isBuyable:!0,effectsOnTrade:{["resources.currencyT".concat(r)]:-z(500,t)},effectsOnTick:{"player.spirit.current":z(1,t)},effectsOnCraft:{["resources.herbsT".concat(r)]:-z(150,t)}}}),...Array.from({length:5},(e,t)=>{let r=t+1;return{id:"item.pill_meridians_t".concat(r),label:"Meridians Pill",desc:"Provides cultivation boost for a limited time",padding:20,tier:r,type:"item",subtype:"consumable",tickDuration:600,stackSize:100,isBuyable:!0,effectsOnTrade:{["resources.currencyT".concat(r)]:-z(500,t)},effectsOnTick:{"player.meridians.current":z(1,t)},effectsOnCraft:{["resources.herbsT".concat(r)]:-z(150,t)}}}),...Array.from({length:5},(e,t)=>{let r=t+1;return{id:"item.pill_body_t".concat(r),label:"Body Pill",desc:"Provides cultivation boost for a limited time",padding:20,tier:r,type:"item",subtype:"consumable",tickDuration:600,stackSize:100,isBuyable:!0,effectsOnTrade:{["resources.currencyT".concat(r)]:-z(500,t)},effectsOnTick:{"player.body.current":z(1,t)},effectsOnCraft:{["resources.herbsT".concat(r)]:-z(150,t)}}})],ej=[...Array.from({length:5},(e,t)=>{let r=t+1;return{id:"item.bed_t".concat(r),label:"Bed",tier:r,type:"item",subtype:"furniture",slot:"bed",effectsWhileActive:{"home.areaSize.room":-1},effectsOnTick:{"player.stamina.current":Math.ceil(Q(4,t)),"player.health.current":Math.ceil(Q(4,t)/2)},effectsOnCraft:{["resources.woodT".concat(r)]:-z(150,t),["resources.leatherT".concat(r)]:-z(75,t)}}}),...Array.from({length:5},(e,t)=>{let r=t+1;return{id:"item.wardrobe_t".concat(r),label:"Wardrobe",tier:r,type:"item",subtype:"furniture",effectsWhileActive:{"home.areaSize.room":-1},effectsOnTick:{"player.stamina.current":Math.ceil(Q(2,t)),"player.health.current":Math.ceil(Q(2,t)/2)},effectsOnCraft:{["resources.woodT".concat(r)]:-z(200,t)}}}),...Array.from({length:5},(e,t)=>{let r=t+1;return{id:"item.meditation_mat_t".concat(r),label:"Meditation Mat",tier:r,type:"item",subtype:"furniture",slot:"meditation_mat",effectsWhileActive:{"home.areaSize.room":-1},effectsOnTick:{"player.qi.current":Math.ceil(Q(4,t))},effectsOnCraft:{["resources.leatherT".concat(r)]:-z(200,t)}}}),...Array.from({length:5},(e,t)=>{let r=t+1;return{id:"item.bookshelf_t".concat(r),label:"Bookshelf",tier:r,type:"item",subtype:"furniture",effectsWhileActive:{"home.areaSize.room":-1},effectsOnTick:{"player.qi.current":Math.ceil(Q(2,t))},effectsOnCraft:{["resources.woodT".concat(r)]:-z(200,t)}}}),...Array.from({length:5},(e,t)=>{let r=t+1;return{id:"item.avatar_nexus_t".concat(r),label:"Avatar Nexus",tier:r,type:"item",subtype:"furniture",slot:"avatar_nexus",effectsWhileActive:{"home.areaSize.vault":-1,"player.avatars.max":Math.ceil(Q(2,t))},effectsOnCraft:{["resources.woodT".concat(r)]:-z(100,t),["resources.oreT".concat(r)]:-z(150,t),["resources.beastCoreT".concat(r)]:-z(10,t)}}}),...Array.from({length:5},(e,t)=>{let r=t+1,a={id:"item.storage_t".concat(r),label:"Storage Trunk",tier:r,type:"item",subtype:"furniture",isBuyableBlueprint:!0,effectsWhileActive:{"home.areaSize.vault":-1},effectsOnCraft:{["resources.woodT".concat(r)]:-z(100,t),["resources.oreT".concat(r)]:-z(50,t),["resources.beastCoreT".concat(r)]:-z(4,t)}};return r>=1&&(a.effectsWhileActive={...a.effectsWhileActive,"resources.capT1":Q(2e3,t),"resources.capT2":Q(500,t)}),2===r&&(a.effectsWhileActive={...a.effectsWhileActive,"resources.capT1":Q(2e3,t),"resources.capT2":Q(2e3,t),"resources.capT3":Q(500,t)}),3===r&&(a.effectsWhileActive={...a.effectsWhileActive,"resources.capT1":Q(2e3,t),"resources.capT2":Q(2e3,t),"resources.capT3":Q(2e3,t),"resources.capT4":Q(500,t)}),4===r&&(a.effectsWhileActive={...a.effectsWhileActive,"resources.capT1":Q(2e3,t),"resources.capT2":Q(2e3,t),"resources.capT3":Q(2e3,t),"resources.capT4":Q(2e3,t),"resources.capT5":Q(500,t)}),5===r&&(a.effectsWhileActive={...a.effectsWhileActive,"resources.capT1":Q(2e3,t),"resources.capT2":Q(2e3,t),"resources.capT3":Q(2e3,t),"resources.capT4":Q(2e3,t),"resources.capT5":Q(2e3,t)}),a}),...Array.from({length:5},(e,t)=>{let r=t+1;return{id:"item.coffer_t".concat(r),label:"Coffer",tier:r,type:"item",subtype:"furniture",effectsWhileActive:{"home.areaSize.vault":-1,"resources.capCurrency":Q(4e3,t)},effectsOnCraft:{["resources.woodT".concat(r)]:-z(100,t),["resources.oreT".concat(r)]:-z(50,t),["resources.beastCoreT".concat(r)]:-z(4,t)}}}),{id:"item.coffer_void",label:"Void Coffer",desc:"Has infinite storage space available for currencies",type:"item",subtype:"furniture",qualityScale:"linear",tier:5,isBuyable:!0,effectsWhileActive:{"home.areaSize.room":-1,"resources.uncapCurrency":!0}},...Array.from({length:5},(e,t)=>{let r=t+1;return{id:"item.herb_trough_t".concat(r),label:"Herb Trough",desc:"Place in a garden to generate herbs",tier:r,type:"item",subtype:"furniture",effectsWhileActive:{"home.areaSize.garden":-1},effectsOnTick:{["resources.herbsT".concat(r)]:Math.ceil(Q(1,t))},effectsOnCraft:{["resources.herbsT".concat(r)]:-z(500,t)}}}),...Array.from({length:5},(e,t)=>{let r=t+1;return{id:"item.tree_basin_t".concat(r),label:"Tree Basin",desc:"Place in a garden to generate wood",tier:r,type:"item",subtype:"furniture",effectsWhileActive:{"home.areaSize.garden":-1},effectsOnTick:{["resources.woodT".concat(r)]:Math.ceil(Q(1,t))},effectsOnCraft:{["resources.woodT".concat(r)]:-z(500,t)}}}),...Array.from({length:5},(e,t)=>{let r=t+1;return{id:"item.tanning_station_t".concat(r),label:"Tanning Station",desc:"Place in a workshop to generate leather",tier:r,type:"item",subtype:"furniture",effectsWhileActive:{"home.areaSize.workshop":-1},effectsOnTick:{["resources.leatherT".concat(r)]:Math.ceil(Q(1,t))},effectsOnCraft:{["resources.leatherT".concat(r)]:-z(500,t)}}}),...Array.from({length:5},(e,t)=>{let r=t+1;return{id:"item.ore_crystal_t".concat(r),label:"Ore Crystal",desc:"Slowly sheds ore flakes by consuming natural energy in the air",tier:r,type:"item",subtype:"furniture",effectsWhileActive:{"home.areaSize.workshop":-1},effectsOnTick:{["resources.oreT".concat(r)]:Math.ceil(Q(1,t))},effectsOnCraft:{["resources.oreT".concat(r)]:-z(500,t)}}}),...Array.from({length:5},(e,t)=>{let r=t+1;return{id:"item.anvil_t".concat(r),label:"Anvil",desc:"Increases the chance to craft high quality items",tier:r,type:"item",subtype:"furniture",slot:"anvil",qualityScale:"linear",effectsWhileActive:{"home.areaSize.workshop":-1,"player.multipliers.qualityRate":.2*r},effectsOnCraft:{["resources.oreT".concat(r)]:-z(500,t)}}}),...Array.from({length:5},(e,t)=>{let r=t+1;return{id:"item.smelter_t".concat(r),label:"Smelter",desc:"Crafted items that don't meet quality requirements get recycled into ".concat(25+5*t,"% resources instead of sold for gold."),tier:r,type:"item",subtype:"furniture",slot:"smelter",effectsWhileActive:{"home.areaSize.workshop":-1}}}),...Array.from({length:5},(e,t)=>{let r=t+1;return{id:"item.spirit_fountain_t".concat(r),label:"Spirit Fountain",desc:"Passively improves cultivation stages just by being near it",tier:r,type:"item",subtype:"furniture",slot:"spirit_fountain",qualityScale:"linear",effectsWhileActive:{"home.areaSize.room":-1},effectsOnTick:{"player.spirit.current":1*r,"player.meridians.current":1*r,"player.body.current":1*r}}}),...Array.from({length:5},(e,t)=>{let r=t+1;return{id:"item.standing_mirror_t".concat(r),label:"Standing Mirror",desc:"Look better to sell better",tier:r,type:"item",subtype:"furniture",slot:"spirit_well",qualityScale:"linear",effectsWhileActive:{"home.areaSize.room":-1,"player.multipliers.sellFactor":.1*r}}})],ek=[...Array.from({length:5},(e,t)=>{let r=t+1,a={id:"item.disc_t".concat(r),label:"Disc",tier:r,type:"item",subtype:"equipment",slot:"mount",qualityScale:"linear",isBuyableBlueprint:!0,effectsWhileActive:{"player.mountRange":100*r},effectsOnCraft:{["resources.oreT".concat(r)]:-z(150,t),["resources.beastCoreT".concat(r-1||1)]:-z(20,t)}};return 1===r&&(a.effectsOnCraft={["resources.oreT".concat(r)]:-z(150,t)}),a})],eS=[...Array.from({length:5},(e,t)=>{let r=t+1;return{id:"item.storage_ring_t".concat(r),label:"Storage Ring",padding:15,tier:r,type:"item",subtype:"equipment",slot:"storageRing",isBuyable:!0,effectsWhileActive:{"player.inventoryCap":6*(2*t+1)}}})],eA=[...Array.from({length:5},(e,t)=>{let r=t+1,a={id:"item.tool_herbs_t".concat(r),label:"Scythe",desc:"Allows to gather herbs, tier ".concat(r," or less"),tier:r,type:"item",subtype:"equipment",slot:"toolHerb",isBuyable:!0};return 1===r&&(a.effectsOnTickMultipliers={"resources.herbsT1":0}),2===r&&(a.effectsOnTickMultipliers={"resources.herbsT1":1,"resources.herbsT2":0}),3===r&&(a.effectsOnTickMultipliers={"resources.herbsT1":2,"resources.herbsT2":1,"resources.herbsT3":0}),4===r&&(a.effectsOnTickMultipliers={"resources.herbsT1":4,"resources.herbsT2":2,"resources.herbsT3":1,"resources.herbsT4":0}),5===r&&(a.effectsOnTickMultipliers={"resources.herbsT1":6,"resources.herbsT2":4,"resources.herbsT3":2,"resources.herbsT4":1,"resources.herbsT5":0}),a}),...Array.from({length:5},(e,t)=>{let r=t+1,a={id:"item.tool_wood_t".concat(r),label:"Hatchet",desc:"Allows to gather wood, tier ".concat(r," or less"),tier:r,type:"item",subtype:"equipment",slot:"toolWood",isBuyable:!0};return 1===r&&(a.effectsOnTickMultipliers={"resources.woodT1":0}),2===r&&(a.effectsOnTickMultipliers={"resources.woodT1":1,"resources.woodT2":0}),3===r&&(a.effectsOnTickMultipliers={"resources.woodT1":2,"resources.woodT2":1,"resources.woodT3":0}),4===r&&(a.effectsOnTickMultipliers={"resources.woodT1":4,"resources.woodT2":2,"resources.woodT3":1,"resources.woodT4":0}),5===r&&(a.effectsOnTickMultipliers={"resources.woodT1":6,"resources.woodT2":4,"resources.woodT3":2,"resources.woodT4":1,"resources.woodT5":0}),a}),...Array.from({length:5},(e,t)=>{let r=t+1,a={id:"item.tool_ore_t".concat(r),label:"Pickaxe",desc:"Allows to gather ore, tier ".concat(r," or less"),tier:r,type:"item",subtype:"equipment",slot:"toolOre",isBuyable:!0};return 1===r&&(a.effectsOnTickMultipliers={"resources.oreT1":0}),2===r&&(a.effectsOnTickMultipliers={"resources.oreT1":1,"resources.oreT2":0}),3===r&&(a.effectsOnTickMultipliers={"resources.oreT1":2,"resources.oreT2":1,"resources.oreT3":0}),4===r&&(a.effectsOnTickMultipliers={"resources.oreT1":4,"resources.oreT2":2,"resources.oreT3":1,"resources.oreT4":0}),5===r&&(a.effectsOnTickMultipliers={"resources.oreT1":6,"resources.oreT2":4,"resources.oreT3":2,"resources.oreT4":1,"resources.oreT5":0}),a})],eC=[...Array.from({length:3},(e,t)=>{let r=1;1===t&&(r=3),2===t&&(r=5);let a={id:"item.upgrade_avatar_t".concat(r),label:"Avatar Core",desc:"Can be used to provide a permanent upgrade",tier:r,type:"item",subtype:"upgrade",isBuyable:!0,qualityScale:"none",effectsWhileActive:{"player.avatars.max":Math.ceil(Q(1,r-1))}};return a.effectsOnTrade={["resources.currencyT".concat(r)]:e=>{var t;let i=null===(t=a.id)||void 0===t?void 0:t.split(".")[1],n=e.player.upgradesPurchased[i];return n<0&&(n=0),-(z(2e3,r-1)*Math.pow(2,n))}},a}),...Array.from({length:3},(e,t)=>{let r=1;1===t&&(r=3),2===t&&(r=5);let a={id:"item.upgrade_attack_t".concat(r),label:"Attack Power Stone",desc:"Can be used to provide a permanent upgrade",tier:r,type:"item",subtype:"upgrade",isBuyable:!0,qualityScale:"none",effectsWhileActive:{"player.attackPower":Math.ceil(Q(10,r-1)/2)}};return a.effectsOnTrade={["resources.currencyT".concat(r)]:e=>{var t;let i=null===(t=a.id)||void 0===t?void 0:t.split(".")[1],n=e.player.upgradesPurchased[i];return n<0&&(n=0),-(z(2e3,r-1)*Math.pow(2,n))}},a}),...Array.from({length:3},(e,t)=>{let r=1;1===t&&(r=3),2===t&&(r=5);let a={id:"item.upgrade_stamina_t".concat(r),label:"Stamina Stone",desc:"Can be used to provide a permanent upgrade",tier:r,type:"item",subtype:"upgrade",isBuyable:!0,qualityScale:"none",effectsOnTick:{"player.stamina.current":Math.ceil(Q(2,r-1))}};return a.effectsOnTrade={["resources.currencyT".concat(r)]:e=>{var t;let i=null===(t=a.id)||void 0===t?void 0:t.split(".")[1],n=e.player.upgradesPurchased[i];return n<0&&(n=0),-(z(2e3,r-1)*Math.pow(2,n))}},a}),...Array.from({length:1},(e,t)=>{let r={id:"item.upgrade_orbs_t".concat(1),label:"Orb Essence",desc:"Increases the rate of orb spawns",tier:1,type:"item",subtype:"upgrade",isBuyable:!0,qualityScale:"none",padding:10,effectsWhileActive:{"player.multipliers.orbRate":.1}};return r.effectsOnTrade={["resources.currencyT".concat(1)]:e=>{var t;let a=null===(t=r.id)||void 0===t?void 0:t.split(".")[1],i=e.player.upgradesPurchased[a];return i<0&&(i=0),-(z(500,0)*Math.pow(2,i))}},r})],eL=[...ex,...eT,...Array.from({length:5},(e,t)=>{let r=t+1,a={id:"item.sword_t".concat(r),label:"Sword",tier:r,type:"item",subtype:"equipment",slot:"weapon",isBuyableBlueprint:!0,effectsWhileActive:{"player.attackPower":z(8,t)},effectsOnCraft:{["resources.oreT".concat(r)]:-z(100,t),["resources.woodT".concat(r)]:-z(50,t),["resources.beastCoreT".concat(r)]:-z(1,t)}};return 1===r&&(a.effectsOnCraft={["resources.oreT".concat(r)]:-z(150,t)}),a}),...Array.from({length:5},(e,t)=>{let r=t+1;return{id:"item.spear_t".concat(r),label:"Spear",tier:r,type:"item",subtype:"equipment",slot:"weapon",effectsWhileActive:{"player.attackPower":z(12,t),"player.defence":z(-2,t)},effectsOnCraft:{["resources.oreT".concat(r)]:-z(150,t),["resources.woodT".concat(r)]:-z(75,t),["resources.beastCoreT".concat(r)]:-z(10,t)}}}),...Array.from({length:5},(e,t)=>{let r=t+1;return{id:"item.daggers_t".concat(r),label:"Daggers",tier:r,type:"item",subtype:"equipment",slot:"weapon",effectsWhileActive:{"player.attackPower":z(8,t),"player.defence":z(2,t)},effectsOnCraft:{["resources.oreT".concat(r)]:-z(200,t),["resources.beastCoreT".concat(r)]:-z(10,t)}}}),...Array.from({length:5},(e,t)=>{let r=t+1;return{id:"item.staff_t".concat(r),label:"Staff",tier:r,type:"item",subtype:"equipment",slot:"weapon",effectsWhileActive:{"player.attackPower":z(6,t),"player.defence":z(4,t)},effectsOnCraft:{["resources.woodT".concat(r)]:-z(200,t),["resources.beastCoreT".concat(r)]:-z(20,t)}}}),...Array.from({length:5},(e,t)=>{let r=t+1;return{id:"item.flying_sword_t".concat(r),label:"Flying Sword",tier:r,type:"item",subtype:"equipment",slot:"weapon",effectsWhileActive:{"player.attackPower":z(10,t),"player.defence":z(2,t)},effectsOnTick:{"player.qi.current":z(-2,t)},effectsOnCraft:{["resources.oreT".concat(r)]:-z(200,t),["resources.beastCoreT".concat(r)]:-z(10,t)}}}),...eg,...eS,...ev,...eA,...ek,...eb,...ej,...eC],eN=[...eL.filter(e=>e.effectsOnCraft).map((e,t)=>{let r={...e,id:"blueprint.".concat(e.id),type:"item",subtype:"blueprint",isBuyable:e.isBuyableBlueprint,recipe:e.id,effectsOnCraft:void 0};return"item.breakthrough_elixir_t1"===e.id&&(r.effectsOnTrade={"resources.currencyT1":-50}),r})],ew=[...eL,...ey.map((e,t)=>{let r=e.tier||1,a=e.attackPower?e.attackPower/10:z(5,r-1),i=e.health?e.health/10:z(25,r-1);a<z(2,r-1)&&(a=z(2,r-1)),a>z(12,r-1)&&(a=z(12,r-1));let n={id:"item.".concat(e.id),label:e.label,desc:e.desc,type:"item",subtype:"equipment",creatureId:e.id,tier:r,padding:14,slot:"creature",effectsWhileActive:{"player.attackPower":a,"player.health.max":i}};return e.id&&(e.id.includes("kirin")&&(n.effectsWhileActive={...n.effectsWhileActive}),e.id.includes("earth_elemental")&&(n.effectsOnTick={["resources.oreT".concat(r)]:Math.ceil(Q(1,r-1))}),e.id.includes("water_elemental")&&(n.effectsOnTick={["resources.herbsT".concat(r)]:Math.ceil(Q(1,r-1))})),n}),...eN],eq=(0,b.oM)({name:"toaster",initialState:{toasts:[]},reducers:{addToast:(e,t)=>{e.toasts.push({...t.payload})},removeToast:(e,t)=>{e.toasts=e.toasts.filter(e=>e.id!==t.payload)},adjustByKey(e,t){}}}),{addToast:eB,removeToast:eM}=eq.actions,eO=[{id:"pills",hint:"Pop pop pop!",label:"Pill Poppa",desc:"You consumed 1,000 pills!",goal:1e3},{id:"worker",hint:"Zug zug",label:"Peon",desc:"You completed 1,000,000 working jobs!",goal:1e6},{id:"gatherer",hint:"Sticky Fingers",label:"Gatherer",desc:"You completed 1,000,000 gathering jobs!",goal:1e6},{id:"slayer",hint:"Slay",label:"Slayer",desc:"You've proven your prowess by slaying 1,000,000 creatures",goal:1e6},{id:"hoarder_gold",hint:"Ho ho ho",label:"Gold Hoarder",desc:"Held over 50,000 gold at once"},{id:"hoarder_spirit",hint:"Ho ho ho again",label:"Spirit Stone Hoarder",desc:"Held over 50,000 Spirit stones at once"},{id:"hoarder_immortal",hint:"Ho ho ho again again",label:"Immortal Stone Hoarder",desc:"Held over 50,000 Immortal stones at once"},{id:"locked_n_loaded",hint:"Lock n Load",label:"Locked n Loaded",desc:"Fill all your equipment slots"},{id:"dragon_slayer",hint:"Stronk",label:"Dragon Slayer",desc:"Slay a mighty dragon"},{id:"legendary_dragon_slayer",hint:"Super Stronk",label:"Legendary Dragon Slayer",desc:"Slay a Tier 5 Dragon"},{id:"true_god",hint:"True",label:"True God",desc:"Achieve level 15 in spirit, meridians, or body cultivation"},{id:"true_true_god",hint:"True, True",label:"True True God",desc:"Achieve level 15 in spirit, meridians, and body cultivation"},{id:"artisan",hint:"Practice makes perfect",label:"Artisan",desc:"Craft a +4 item to prove your artisan skills"},{id:"legendary_artisan",hint:"Super practice makes super perfect",label:"Legendary Artisan",desc:"Craft a tier 5 +4 item"},{id:"island_level",hint:"Utopia",label:"Utopia",desc:"Elevate your island to level 5"},{id:"shop_level",hint:"Mega-Mall",label:"Mega-Mall",desc:"Upgrade your shop to level 5"},{id:"mount_range",hint:"Going places",label:"Super Mount Range",desc:"Your mount can go over 900km!"},{id:"storage_ring",hint:"Lotsa stuff",label:"Super Storage Ring",desc:"You can fit a warehouse in your storage ring!"}],eI={list:[...Array.from({length:eO.length},(e,t)=>{let r=eO[t],a={id:r.id,completed:!1};return void 0!==r.goal&&(a.progress=0),a})]},eE=(0,b.oM)({name:"achievements",initialState:eI,reducers:{setInitialState:(e,t)=>{let r=t.payload,a=new Map;e.list.forEach(e=>a.set(e.id,e)),r.list.forEach(e=>a.set(e.id,e));let i=Array.from(a.values()),n=T()({},e,r);return n.list=i,n},adjustByKey(e,t){},adjustProgress:(e,t)=>{let{id:r,amount:a}=t.payload,i=e.list.find(e=>e.id===r),n=eO.find(e=>e.id===r);i&&!i.completed&&n&&void 0!==i.progress&&void 0!==n.goal&&(i.progress+=a,i.progress>=n.goal&&(i.completed=!0))},complete:(e,t)=>{let{id:r}=t.payload,a=e.list.find(e=>e.id===r);a&&(a.completed=!0)}}}),eP=function(e,t,r){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=e.achievements.list.find(e=>e.id===r),n=!1;if(i&&!i.completed){let s=eO.find(e=>e.id===r);if(s&&(s.goal&&void 0!==i.progress?(i.progress+a>=s.goal&&(n=!0),t(eE.actions.adjustProgress({id:r,amount:a}))):n=!0,n)){t(eE.actions.complete({id:r})),e.player.miscEntities.find(e=>e.id==="misc.achievement_".concat(s.id))||t(e7("misc.achievement_".concat(s.id)));let a=Date.now();t(eB({id:a,content:"Unlocked achievement! "+s.label})),setTimeout(()=>t(eM(a)),1e4)}}},eW=(0,b.oM)({name:"home",initialState:{islandLevel:0,areaCap:1,areas:[null],areaSize:{room:0,garden:0,workshop:0,vault:0},furnitures:[]},reducers:{setInitialState:(e,t)=>T()(e,t.payload),adjustByKey(e,t){let{key:r,value:a}=t.payload,i=Math.round(((q()(e,r)||0)+a)*100)/100;"areaCap"===r&&(e.areas=ea([...e.areas],i)),k()(e,r,i),i<0&&k()(e,r,0)},setByKey(e,t){let{key:r,value:a}=t.payload;k()(e,r,a)},equipArea(e,t){let{item:r}=t.payload,a=e.areas.indexOf(null);-1!==a&&(e.areas[a]=r)},unequipArea(e,t){let{item:r}=t.payload,{id:a}=r;console.log("removing area");let i=e.areas.findIndex(e=>e&&e.id===a);-1!==i&&(e.areas[i]=null)},equipFurniture(e,t){let{item:r}=t.payload;e.furnitures.push(r)},unequipFurniture(e,t){let{item:r}=t.payload,{uid:a,id:i,quality:n}=r,s=e.furnitures.findIndex(e=>e&&(!e.uid||e.uid===a)&&e.id===i&&e.quality===n);-1!==s&&e.furnitures.splice(s,1)}}});class eR extends el{canActivate(e){let t=super.canActivate(e);if("equipment"===this.subtype&&this.slot){if(!(this.slot in e.equipment.slots))return!1;if(e_(e.equipment,this.slot)){let t=eh(e.equipment,this.slot);if(t){let r={...ew.map(e=>new eR(e)).find(e=>e.id===t.id),...t},a=new eR(r).effectsWhileActive,i={};for(let t in this.effectsWhileActive){let r=this.effectsWhileActive[t];"function"==typeof r&&(r=r(e)),"number"==typeof r&&(i[t]=r)}for(let t in a){let r=i[t];"function"==typeof r&&(r=r(e)),"number"==typeof r&&(i[t]=(i[t]||0)+r)}return this.canDoEffects(e,i)}}}if("area"===this.subtype){let r=e.home.areas.filter(e=>null===e).length;return t&&r>0}if("furniture"===this.subtype&&this.slot){let r=e.home.furnitures.filter(e=>{if(!e)return;let t=eZ(e.id);if(t&&t.slot)return t.slot===this.slot}).length;return t&&0===r}return t}handleActivate(e,t){if(super.handleActivate(e,t),"equipment"===this.subtype&&this.slot){if(t(te.actions.removeFromInventory({item:e8(this)})),e_(e.equipment,this.slot)){let r=eh(e.equipment,this.slot);new eR({...ew.find(e=>e.id===r.id),...r}).handleDeactivate(e,t)}t(eu.actions.equipItem({item:e8(this),slot:this.slot}))}if("consumable"===this.subtype&&(t(te.actions.removeFromInventory({item:e8(this)})),t(te.actions.addMiscEntity({id:this.id,qty:1,quality:this.quality})),this.id.includes("pill")&&eP(e,t,"pills")),"upgrade"===this.subtype&&(t(te.actions.removeFromInventory({item:e8(this)})),t(te.actions.addMiscEntity({id:this.id,qty:1}))),"area"===this.subtype&&t(eW.actions.equipArea({item:e8(this)})),"furniture"===this.subtype&&(t(te.actions.removeFromInventory({item:e8(this)})),t(eW.actions.equipFurniture({item:e8(this)}))),"blueprint"===this.subtype){t(te.actions.removeFromInventory({item:e8(this)})),t(ec.actions.learnRecipe({id:this.recipe})),t(te.actions.addJournalEntry({key:"learnt_blueprint"}));let e=Date.now();t(eB({id:e,content:"Blueprint learnt!"})),setTimeout(()=>t(eM(e)),1e4)}}canDeactivate(e,t){let r=super.canDeactivate(e,t);if("equipment"===this.subtype&&this.slot){let t=1;for(let r in this.effectsWhileActive)if(r.startsWith("player.inventoryCap")){let a=this.effectsWhileActive[r];t+="function"==typeof a?a(e):a}let a=P(e.player,t);return r&&a}if("furniture"===this.subtype){let t=P(e.player,1);return r&&t}return r}handleDeactivate(e,t){super.canDeactivate(e)&&(super.handleDeactivate(e,t),"equipment"===this.subtype&&this.slot&&(t(eu.actions.unequipItem({item:e8(this),slot:this.slot})),t(te.actions.addToInventory({item:e8(this)}))),"area"===this.subtype&&t(eW.actions.unequipArea({item:e8(this)})),"furniture"===this.subtype&&(t(eW.actions.unequipFurniture({item:e8(this)})),t(te.actions.addToInventory({item:e8(this)}))))}canCraft(e){let t=this.canDoEffects(e,this.effectsOnCraft),r=P(e.player);return t&&r}handleCraft(e,t){if(!this.canCraft(e))return;let r=e8(this);if(r.quality=1,this.handleDoEffects(e,t,this.effectsOnCraft),"none"!==this.qualityScale){let a=Math.random()*e.player.multipliers.qualityRate;a<.005?(r.quality=5,eP(e,t,"artisan"),this.tier>=5&&eP(e,t,"legendary_artisan")):a<.025?r.quality=4:a<.2?r.quality=3:a<.4&&(r.quality=2),r.quality>1&&t(te.actions.addJournalEntry({key:"quality_crafting"}))}let a=Date.now();return t(eB({id:a,content:"Crafted "+this.label})),setTimeout(()=>t(eM(a)),1e4),r}constructor(e={}){super(e),this.quality=1,this.qualityScale="exponential",this.filename="",this.padding=7,this.stackSize=0,this.special=!1,this.isBuyable=!1,this.isBuyableBlueprint=!1,Object.assign(this,e)}}let eD=[...ew].map(e=>new eR(e)),eG=[{id:"misc.base",label:"Base",type:"misc",effectsOnTick:{"player.stamina.current":1,"player.qi.current":1,"player.health.current":1}},...Array.from({length:16},(e,t)=>{let r={id:"misc.spirit_stage_t".concat(t),label:"Spirit Stage",tier:t,type:"misc",subtype:"spirit_stage",effectsWhileActive:{"player.avatars.max":Math.ceil(F(1,t)),"player.spirit.max":H(75,t)}};return 0===t&&(r.effectsWhileActive={...r.effectsWhileActive,"player.avatars.max":0,"player.spirit.max":3}),1===t&&(r.effectsWhileActive={...r.effectsWhileActive,"player.avatars.max":1,"player.spirit.max":30}),3===t&&(r.effectsOnTrade={"item.breakthrough_elixir_t1":-1}),6===t&&(r.effectsOnTrade={"item.breakthrough_elixir_t2":-1}),9===t&&(r.effectsOnTrade={"item.breakthrough_elixir_t3":-1}),12===t&&(r.effectsOnTrade={"item.breakthrough_elixir_t4":-1}),15===t&&(r.effectsOnTrade={"item.breakthrough_elixir_t5":-1}),15===t&&(r.effectsWhileActive={...r.effectsWhileActive,"player.spirit.max":0}),r}),...Array.from({length:16},(e,t)=>{let r={id:"misc.meridians_stage_t".concat(t),label:"Meridians Stage",tier:t,type:"misc",subtype:"meridians_stage",effectsWhileActive:{"player.qi.max":F(30,t),"player.attackPower":F(1,t),"player.meridians.max":H(75,t)},effectsOnTick:{"player.stamina.current":Math.ceil(F(.75,t)),"player.qi.current":Math.ceil(F(.75,t))}};return 0===t&&(r.effectsWhileActive={...r.effectsWhileActive,"player.qi.max":10,"player.attackPower":0,"player.meridians.max":3}),1===t&&(r.effectsWhileActive={...r.effectsWhileActive,"player.meridians.max":30}),3===t&&(r.effectsOnTrade={"item.breakthrough_elixir_t1":-1}),6===t&&(r.effectsOnTrade={"item.breakthrough_elixir_t2":-1}),9===t&&(r.effectsOnTrade={"item.breakthrough_elixir_t3":-1}),12===t&&(r.effectsOnTrade={"item.breakthrough_elixir_t4":-1}),15===t&&(r.effectsOnTrade={"item.breakthrough_elixir_t5":-1}),15===t&&(r.effectsWhileActive={...r.effectsWhileActive,"player.meridians.max":0}),r}),...Array.from({length:16},(e,t)=>{let r={id:"misc.body_stage_t".concat(t),label:"Body Stage",tier:t,type:"misc",subtype:"body_stage",effectsWhileActive:{"player.stamina.max":F(30,t),"player.health.max":F(30,t),"player.defence":F(1,t),"player.body.max":H(75,t)},effectsOnTick:{"player.stamina.current":Math.ceil(F(.75,t)),"player.health.current":Math.ceil(F(1,t))}};return 0===t&&(r.effectsWhileActive={...r.effectsWhileActive,"player.stamina.max":10,"player.health.max":10,"player.defence":0,"player.body.max":3}),1===t&&(r.effectsWhileActive={...r.effectsWhileActive,"player.body.max":30}),3===t&&(r.effectsOnTrade={"item.breakthrough_elixir_t1":-1}),6===t&&(r.effectsOnTrade={"item.breakthrough_elixir_t2":-1}),9===t&&(r.effectsOnTrade={"item.breakthrough_elixir_t3":-1}),12===t&&(r.effectsOnTrade={"item.breakthrough_elixir_t4":-1}),15===t&&(r.effectsOnTrade={"item.breakthrough_elixir_t5":-1}),15===t&&(r.effectsWhileActive={...r.effectsWhileActive,"player.body.max":0}),r}),...Array.from({length:5},(e,t)=>{let r=t+1;return{id:"misc.shop_levelup_t".concat(r),label:"Invest in Shop",desc:"Put money into the shop to increase the number of items it sells",type:"misc",subtype:"main",effectsOnTrade:{["item.resource_crate_t".concat(r)]:-1},effectsWhileActive:{"player.shopLevel":r}}}),...Array.from({length:4},(e,t)=>{let r=t+1,a={id:"misc.island_levelup_t".concat(r),label:"Upgrade Island",desc:"Increase the size of your island and make more areas available.",type:"misc",subtype:"main",effectsOnTrade:{["resources.currencyT".concat(r)]:-z(5e3,t),["resources.woodT".concat(r)]:-z(1e3,t)},effectsWhileActive:{"home.islandLevel":r}},i=0;return r>=1&&(i=1),r>=3&&(i=2),a.effectsWhileActive={...a.effectsWhileActive,"home.areaCap":i},a}),{id:"misc.achievement_pills",type:"misc"},{id:"misc.achievement_worker",type:"misc",effectsWhileActive:{"player.stamina.current":20}},{id:"misc.achievement_gatherer",type:"misc",effectsWhileActive:{"player.stamina.current":20}},{id:"misc.achievement_slayer",type:"misc",effectsWhileActive:{"player.health.current":10}},{id:"misc.achievement_hoarder_gold",type:"misc"},{id:"misc.achievement_hoarder_spirit",type:"misc"},{id:"misc.achievement_hoarder_immortal",type:"misc"},{id:"misc.achievement_locked_n_loaded",type:"misc"},{id:"misc.achievement_dragon_slayer",type:"misc"},{id:"misc.achievement_legendary_dragon_slayer",type:"misc"},{id:"misc.achievement_true_god",type:"misc"},{id:"misc.achievement_true_true_god",type:"misc"},{id:"misc.achievement_artisan",type:"misc",effectsWhileActive:{"player.multipliers.qualityRate":.1}},{id:"misc.achievement_legendary_artisan",type:"misc",effectsWhileActive:{"player.multipliers.qualityRate":.2}},{id:"misc.achievement_island_level",type:"misc",effectsWhileActive:{"home.areaSize.room":1}},{id:"misc.achievement_shop_level",type:"misc",effectsWhileActive:{"player.multipliers.sellFactor":.1}},{id:"misc.achievement_mount_range",type:"misc",effectsWhileActive:{"player.mountRange":200}},{id:"misc.achievement_storage_ring",type:"misc",effectsWhileActive:{"player.inventoryCap":10}}],eH=eG.map(e=>new el(e));class eF extends el{rollForItems(e){if(!this.itemPool)return[];let t=[];return Object.entries(this.itemPool).forEach(r=>{var a,i;let[n,s]=r;s&&((s*=(null==e?void 0:null===(i=e.player)||void 0===i?void 0:null===(a=i.multipliers)||void 0===a?void 0:a.dropRate)||1)<1?Math.random()<s&&t.push({id:n,qty:1}):t.push({id:n,qty:s}))}),t}constructor(e={}){let t;super(e),this.filename="",this.health=10,this.attackPower=10,this.captureRate=0,this.isCapturable=!0,Object.assign(this,e);let r=e.health||this.health,a=e.attackPower||this.attackPower;t=20/this.tier,this.subtype,"normal"===this.subtype&&(t/=2),"special"===this.subtype&&(t/=4),t<1&&(t=1),this.captureRate=t/100,this.itemPool={["resources.leatherT".concat(e.tier)]:r/25},this.id.includes("creature.chicken")||this.id.includes("creature.rabbit")||(this.itemPool={...this.itemPool,["blueprint.item.bed_t".concat(e.tier)]:.005,["blueprint.item.wardrobe_t".concat(e.tier)]:.005,["blueprint.item.bookshelf_t".concat(e.tier)]:.005,["blueprint.item.meditation_mat_t".concat(e.tier)]:.005,["blueprint.item.coffer_t".concat(e.tier)]:.005,["blueprint.item.herb_trough_t".concat(e.tier)]:.005,["blueprint.item.tree_basin_t".concat(e.tier)]:.005,["blueprint.item.tanning_station_t".concat(e.tier)]:.005,["blueprint.item.ore_crystal_t".concat(e.tier)]:.005,["blueprint.item.anvil_t".concat(e.tier)]:.005,["blueprint.item.smelter_t".concat(e.tier)]:.005,["blueprint.item.spirit_fountain_t".concat(e.tier)]:.005,["blueprint.item.standing_mirror_t".concat(e.tier)]:.005,["blueprint.item.avatar_nexus_t".concat(e.tier)]:.005,["blueprint.item.focus_pendant_t".concat(e.tier)]:.005,["blueprint.item.warriors_bracelet_t".concat(e.tier)]:.005,["blueprint.item.fan_t".concat(e.tier)]:.005,["resources.beastCoreT".concat(e.tier)]:(r+a)/500,...e.itemPool})}}let ez=ey.map(e=>new eF(e)),eQ=[{id:"adventure.green_plains",label:"Green Plains",desc:"Calming green plains with some active wildlife.",type:"adventure",subtype:"main",distance:0,enemyPool:{"creature.rabbit_t1":.95,"creature.boar_t1":.05}},{id:"adventure.dark_woods",label:"Dark Wood",desc:"Local woods with a dark atmosphere.",type:"adventure",subtype:"main",distance:50,enemyPool:{"creature.boar_t1":.6,"creature.tiger_t1":.1,"creature.bear_t1":.1,"creature.rabbit_t1":.1,"creature.serpent_t1":.1,"creature.kirin_t1":.02}},{id:"adventure.misty_mountains",label:"Misty Mountains",desc:"Mysterious mountains shrouded in mist, home to wise hermits and ancient beasts.",type:"adventure",subtype:"main",distance:150,enemyPool:{"creature.eagle_t2":.5,"creature.serpent_t2":.2,"creature.monkey_t2":.2,"creature.tiger_t2":.09,"creature.dragon_t2":.01}},{id:"adventure.crystal_lake",label:"Crystal Lake",desc:"A sparkling lake that reflects the sky, rumored to be guarded by water elementals.",type:"adventure",subtype:"main",distance:250,enemyPool:{"creature.boar_t3":.6,"creature.bear_t3":.2,"creature.tiger_t3":.2,"creature.serpent_t3":.2,"creature.water_spirit_t3":.09,"creature.leviathan_t3":.01}},{id:"adventure.forgotten_valley",label:"Forgotten Valley",desc:"A lost valley filled with ancient ruins and guarded by creatures forgotten by time.",type:"adventure",subtype:"main",distance:350,enemyPool:{"creature.boar_t4":.6,"creature.tiger_t4":.2,"creature.black_tortoise_t4":.09,"creature.kirin_t4":.02,"creature.phoenix_t4":.01}},{id:"adventure.sky_pillars",label:"Sky Pillars",desc:"Tall, unreachable pillars touching the clouds, home to air elementals and dragons.",type:"adventure",subtype:"main",distance:450,enemyPool:{"creature.eagle_t5":.5,"creature.flying_serpent_t5":.25,"creature.air_elemental_t5":.04,"creature.dragon_t5":.01}},{id:"adventure.elemental_sanctuary",label:"Elemental Sanctuary",desc:"An ancient sanctuary located at the confluence of the world's ley lines, where the elemental forces of fire, wind, earth, and air converge in their purest forms. The area is fraught with natural phenomena and guarded by the primal elementals.",type:"adventure",subtype:"main",distance:800,enemyPool:{"creature.fire_elemental_t5":.25,"creature.wind_elemental_t5":.25,"creature.earth_elemental_t5":.25,"creature.air_elemental_t5":.25}},{id:"adventure.heavens_gate",label:"Heaven's Gate",desc:"A majestic and towering portal standing atop the highest peaks, surrounded by clouds and celestial light. It is said to be a bridge between the mortal realm and the heavens, guarded by divine creatures.",type:"adventure",subtype:"main",distance:900,enemyPool:{"creature.bear_t5":.5,"creature.tiger_t5":.2,"creature.dragon_t5":.05,"creature.kirin_t5":.05,"creature.black_tortoise_t5":.05,"creature.levaithan_t5":.05,"creature.phoenix_t5":.05}},{id:"adventure.heavens_throne",label:"Heaven's Throne",desc:"The throne room of the betrayer.",type:"adventure",subtype:"boss",distance:1200,unlocked:e=>!e.player.journalEntries.includes("completed"),enemyPool:{"creature.avatar_t5":.95,"creature.betrayer_t5":.05}}];class eK extends el{unlocked(e){return e.player.mountRange>=this.distance}handleTick(e,t,r){let a=e.adventures.assignments.find(e=>e.id===this.id);if(!a)return;let i=e.adventures.battles[this.id]||[];if(0===i.length&&e.player.health.current<e.player.health.max)return;let n=[...i];for(;a.qty<n.length;)n.pop();let s=0;for(n=(n=n.map(a=>{let i=JSON.parse(JSON.stringify(a)),n=eZ(a.enemyId);if(i.enemyHealth>0&&(i.enemyHealth-=e.player.attackPower,i.enemyHealth<=0)){eP(e,t,"slayer"),n.id.includes("dragon")&&(eP(e,t,"dragon_slayer"),n.tier>=5&&eP(e,t,"legendary_dragon_slayer")),"creature.betrayer_t5"===n.id&&t(te.actions.addJournalEntry({key:"completed"}));let a=n.rollForItems(e);if(a.length>0&&a.map(a=>{let{id:i,qty:n}=a;if(i.includes("misc."))console.log("DO MISC DROPS",i);else if(i.includes("item.")){let a=eZ(i);if(a){let s=e8(a),c=("recipe"in a),l=a.recipe,o=c&&e.crafting.recipes.includes(l),d=c&&(e.player.inventory.find(e=>e&&e.id===i)||e.adventures.loot.find(e=>e&&e.id===i));if(!c||c&&!o&&!d){s.qty=n,t(en.actions.addToLoot({item:s}));let e=Date.now();t(eB({id:e,content:"New loot! "+Y(r,"".concat(a.id,".label"),a.label)})),setTimeout(()=>t(eM(e)),1e4)}}}else{let[e,...r]=i.split("."),a=r.join(".");"resources.beastCoreT1"===i&&t(te.actions.addJournalEntry({key:"beast_core"})),tr[e]&&t(tr[e].adjustByKey({key:a,value:n}))}}),e.adventures.creaturesCapturing.includes(n.id)&&n.isCapturable){let r=D(e.player.inventory,"item.capture_crystal_t".concat(n.tier));if(r.length>0&&(r=r.sort((e,t)=>(t.quality||0)-(e.quality||0)),Math.random()<n.captureRate)){let e=r[0],a=e8(eZ("item.".concat(n.id)));t(en.actions.addToLoot({item:{...a,quality:e.quality}})),t(te.actions.removeFromInventory({item:e})),t(en.actions.toggleCreatureCapturing({id:n.id}))}}}if(i.enemyHealth>0&&n){let t=Math.max(0,n.attackPower-e.player.defence);s+=t}return i})).filter(e=>e.enemyHealth>0),s>0&&t(te.actions.adjustByKey({key:"health.current",value:-s}));a.qty>n.length&&this.enemyPool;){let r=this.rollNewEnemy(e);if(r){let e=eZ(r);e&&(n.push({enemyId:r,enemyHealth:e.health}),t(en.actions.creatureSeen({id:e.id})))}}e.player.health.current-s<=0?t(en.actions.clearAssignmentBattles({id:this.id})):t(en.actions.updateAssignmentBattles({id:this.id,battles:n}))}rollNewEnemy(e){if(!this.enemyPool)return null;let t=0;for(let r of Object.values(this.enemyPool))"function"==typeof r&&(r=r(e)),"number"==typeof r&&(t+=r);let r=Math.random()*t,a=0;for(let[t,i]of Object.entries(this.enemyPool))if("function"==typeof i&&(i=i(e)),"number"==typeof i&&(a+=i),r<=a)return t;return null}constructor(e={}){super(e),this.filename="",this.distance=9999,this.enemyPool={},Object.assign(this,e)}}let eJ=eQ.map(e=>new eK(e)),eV=[...eH,...eD,...ef,...ez,...eJ],eU=[...eG,...ew,...em,...ey,...eQ],eY=e=>eU.find(t=>t.id===e),eZ=(e,t)=>{let r=eY(e);if(r)return"misc"===r.type||"activity"===r.type?new el({...r,...t}):"creature"===r.type?new eF({...r,...t}):"adventure"===r.type?new eK({...r,...t}):new eR({...r,...t})},eX=e=>{if(!e)return;let t={...eU.find(t=>t.id===e.id),...e};return"misc"===t.type||"activity"===t.type?new el(t):"creature"===t.type?new eF(t):new eR(t)},e$=(e,t)=>{for(let r of O(e).map(e=>eX(e)))if(r.effectsOnTickActivity){for(let a in r.effectsOnTickActivity)if(a in t&&"number"==typeof t[a]){let i=r.effectsOnTickActivity[a],n=r.quality||1;"function"==typeof i&&(i=i(e)),"number"==typeof i&&(t[a]=t[a]+J(i,n,r.qualityScale))}}return t},e0=(e,t)=>{let r=O(e).map(e=>eX(e)),a={};for(let i of r)if(i.effectsOnTickMultipliers){for(let r in i.effectsOnTickMultipliers)if(r in t&&"number"==typeof t[r]){let t=i.effectsOnTickMultipliers[r],n=i.quality||1;"function"==typeof t&&(t=t(e)),"number"==typeof t&&(a[r]=(a[r]||1)+J(t,n,i.qualityScale))}}for(let e in t)e in a&&"number"==typeof t[e]&&(t[e]=t[e]*a[e]);return t},e1=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];let i={};for(let t of r)t&&Object.keys(t).forEach(r=>{let a=t[r],n="function"==typeof a?a(e):a;i.hasOwnProperty(r)?i[r]+=n:i[r]=n});return i},e2=(e,t)=>{let r={};for(let a in e){let i=e[a];"function"==typeof i&&t&&(i=i(t)),"number"==typeof i&&(r[a]=-1*i),"boolean"==typeof i&&(r[a]=!i)}return r},e5=(e,t,r)=>{for(let a in t)if(t.hasOwnProperty(a)&&"number"==typeof t[a]){if(r.includes("item.upgrade"))t[a]=.5*t[a];else{let r=e.player.multipliers.sellFactor;r>1&&(r=1),t[a]=t[a]*r}}return t},e3=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.25,a=e2(t,e);for(let e in a)a.hasOwnProperty(e)&&"number"==typeof a[e]&&(r>1&&(r=1),a[e]=a[e]*r);return a},e4={stamina:{current:10,max:0},qi:{current:10,max:0},health:{current:10,max:0},spirit:{current:0,max:0},meridians:{current:0,max:0},body:{current:0,max:0},avatars:{current:0,max:0},mountRange:0,attackPower:0,defence:0,multipliers:{sellFactor:.1,dropRate:1,qualityRate:1,orbRate:1},miscEntities:[{uid:er(),id:"misc.base",qty:1}],inventoryCap:3,inventory:[null,null,null],shopLevel:0,upgradesPurchased:{},tradeHistory:[],journalEntries:["intro"],isJournalOpen:!0},e6=(0,b.oM)({name:"player",initialState:e4,reducers:{setInitialState:(e,t)=>T()(e,t.payload),adjustByKey(e,t){let{key:r,value:a}=t.payload;"boolean"==typeof a&&k()(e,r,a);let i=Math.round(((q()(e,r)||0)+a)*100)/100;if(i<0){k()(e,r,0);return}if(r.includes("max")&&(q()(e,r.replace("max","current"))||0)>i&&k()(e,r.replace("max","current"),i),r.includes("current")){let t=q()(e,r.replace("current","max"))||0;if(i>t){k()(e,r,t);return}}"inventoryCap"===r&&(e.inventory=ea(e.inventory,i)),k()(e,r,i)},setByKey(e,t){let{key:r,value:a}=t.payload;k()(e,r,a)},addToInventory(e,t){let{item:r,qty:a=1}=t.payload,i=eY(r.id);if(!i||!r)return;let n=i.stackSize&&i.stackSize>0?i.stackSize:1;for(;a>0;){let t=e.inventory.findIndex(e=>e&&e.id===r.id&&e.quality===r.quality&&e.qty<n);if(-1!==t){let r=e.inventory[t],i=Math.min(n-r.qty,a);e.inventory[t]={...r,qty:r.qty+i},a-=i}else{let t=Math.min(n,a),i={...r,qty:t,uid:er()},s=e.inventory.indexOf(null);-1!==s&&(e.inventory[s]=i),a-=t}}},removeFromInventory(e,t){let{item:r,qty:a=1}=t.payload,{uid:i,id:n,quality:s}=r,c=e.inventory.findIndex(e=>e&&(!i||e.uid===i)&&e.id===n&&(!s||e.quality===s));-1!==c&&e.inventory[c]&&(e.inventory[c].qty-=a,e.inventory[c].qty<=0&&(e.inventory[c]=null))},sortInventory(e,t){},addMiscEntity(e,t){let{uid:r,id:a,qty:i=1,quality:n=1}=t.payload,s=eY(a),c=e.miscEntities.findIndex(e=>e.id===a);if(-1!==c){let t=[...e.miscEntities],r=t[c];"tickDuration"in r&&(null==s?void 0:s.tickDuration)?t[c]={...r,quality:n,tickDuration:s.tickDuration}:t[c]={...r,quality:n,qty:(r.qty||0)+i},e.miscEntities=t}else{let t={uid:r,id:a,qty:i,quality:n,...(null==s?void 0:s.tickDuration)&&{tickDuration:s.tickDuration}};e.miscEntities=[...e.miscEntities,t]}},removeMiscEntity(e,t){let{id:r,qty:a=1,quality:i=1}=t.payload,n=e.miscEntities.findIndex(e=>e.id===r);-1!==n&&(a&&e.miscEntities[n].qty>a?e.miscEntities[n].qty-=a:e.miscEntities=e.miscEntities.filter((e,t)=>t!==n))},miscEntityTickDown(e,t){let{id:r}=t.payload,a=e.miscEntities.findIndex(e=>e.id===r);if(-1!==a){let t=e.miscEntities[a];if("tickDuration"in t&&void 0!==t.tickDuration){if(t.tickDuration>1){let r=[...e.miscEntities];r[a]={...t,tickDuration:t.tickDuration-1},e.miscEntities=r}else e.miscEntities.splice(a,1)}}},addTrade(e,t){let{item:r,type:a}=t.payload,i=[...e.tradeHistory];i.push({...r,type:a}),e.tradeHistory=i},addJournalEntry(e,t){let{key:r}=t.payload;e.journalEntries.includes(r)||(e.journalEntries.push(r),e.isJournalOpen=!0)}}}),e7=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(a,i)=>{a(e6.actions.addMiscEntity({uid:er(),id:e,qty:t,quality:r}));let n=new eR({...eU.find(t=>t.id===e),quality:r});n&&n.handleActivate(i(),a)}},e9=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(a,i)=>{a(e6.actions.removeMiscEntity({id:e,qty:t,quality:r}));let n=eV.find(t=>t.id===e);n&&n.handleDeactivate(i(),a)}},e8=e=>({uid:e.uid,id:e.id,quality:e.quality,tickDuration:e.tickDuration});var te=e6;let tt={player:te.reducer,settings:A.reducer,activities:L.reducer,resources:B.reducer,adventures:en.reducer,crafting:ec.reducer,toaster:eq.reducer,achievements:eE.reducer,home:eW.reducer,equipment:eu.reducer},tr={player:te.actions,settings:A.actions,activities:L.actions,resources:B.actions,adventures:en.actions,crafting:ec.actions,toaster:eq.actions,achievements:eE.actions,home:eW.actions,equipment:eu.actions},ta=(0,b.xC)({reducer:tt});var ti=r(8024),tn=r(7535),ts=r(2265),tc=r(7230),tl=r(3661),to=r.n(tl),td=r(5211),tu=r.n(td),tp=r(1399),t_=e=>{let{children:t,content:r,forcedOpen:i=null}=e,[n,s]=(0,ts.useState)(!1);return(0,ts.useEffect)(()=>{null!==i&&s(i)},[i]),(0,a.jsx)(tp.zt,{delayDuration:1,disableHoverableContent:!0,children:(0,a.jsxs)(tp.fC,{open:n,onOpenChange:e=>{null===i&&r&&s(e)},children:[(0,a.jsx)(tp.xz,{asChild:!0,children:t}),(0,a.jsx)(tp.h_,{children:(0,a.jsxs)(tp.VY,{className:tu().content,sideOffset:5,children:[r,(0,a.jsx)(tp.Eh,{className:tu().arrow})]})})]})})},th=r(134),tm=r.n(th),tf=r(3034),ty=r.n(tf);let tv=["player.spirit.max","player.meridians.max","player.body.max"],tb=e=>{let{effects:t,valFunc:r,hasNext:i}=e,n=(0,h.useTranslations)();return(0,a.jsx)(a.Fragment,{children:Object.keys(t).map(e=>{let s,c=t[e];if(("number"==typeof c||"boolean"==typeof c)&&c&&!tv.includes(e))return s=void 0!==r?r(c):e.includes(".multipliers.")?$(c):"boolean"==typeof c?c?n("common.true"):n("common.false"):(c>0&&!i?"+":"")+X(c),(0,a.jsxs)("div",{className:ty().effect,children:[(0,a.jsx)("span",{children:n(e)}),(0,a.jsx)("span",{children:s})]},e)})})},tg=e=>{let t,r,i,n,s,{entity:c,state:l,action:o,hasNext:d}=e,u=(0,h.useTranslations)("common");return c.effectsWhileActive&&0===Object.keys(t=c.calcEffects(l,c.effectsWhileActive)).length&&(t=void 0),c.effectsOnTick&&0===Object.keys(r=c.calcEffects(l,c.effectsOnTick)).length&&(r=void 0),c.effectsOnTickActivity&&0===Object.keys(i=c.calcEffects(l,c.effectsOnTickActivity)).length&&(i=void 0),c.effectsOnTickMultipliers&&0===Object.keys(n=c.calcEffects(l,c.effectsOnTickMultipliers)).length&&(n=void 0),c.effectsOnActivate&&0===Object.keys(s=c.calcEffects(l,c.effectsOnActivate)).length&&(s=void 0),(0,a.jsx)(a.Fragment,{children:(t||s||r||i||n)&&(0,a.jsxs)("div",{className:ty().details,children:[t&&(0,a.jsxs)("div",{className:ty().group,children:[(0,a.jsx)("h5",{className:ty().subheading,children:u("effects")}),(0,a.jsx)(tb,{effects:t,hasNext:d})]}),s&&(0,a.jsxs)("div",{className:ty().group,children:[(0,a.jsx)("h5",{className:ty().subheading,children:u("effects")}),(0,a.jsx)(tb,{effects:s,hasNext:d})]}),r&&(0,a.jsxs)("div",{className:ty().group,children:["activity"===o?(0,a.jsx)("h5",{className:ty().subheading,children:u("effects_on_completion")}):(0,a.jsxs)("h5",{className:ty().subheading,children:[u("effects_per_tick"),c.tickDuration?", ".concat(c.tickDuration," ").concat(u("ticks")):""]}),(0,a.jsx)(tb,{effects:r,hasNext:d})]}),i&&(0,a.jsxs)("div",{className:ty().group,children:[(0,a.jsx)("h5",{className:ty().subheading,children:u("activity_additions")}),(0,a.jsx)(tb,{effects:i,hasNext:d})]}),n&&(0,a.jsxs)("div",{className:ty().group,children:[(0,a.jsx)("h5",{className:ty().subheading,children:u("multipliers")}),(0,a.jsx)(tb,{effects:n,hasNext:d,valFunc:$})]})]})})};var tx=e=>{let t,r,{entity:i,action:n,nextEntity:s}=e,c=(0,h.useTranslations)();if(!i)return;let l=ta.getState(),o="buy"===n,d="sell"===n,u=("craft"===n||"queue"===n||"dequeue"===n)&&"effectsOnCraft"in i,p="upgrade"===n;if(i.effectsOnTrade||s&&s.effectsOnTrade){if(t=i.calcEffects(l,s?s.effectsOnTrade:i.effectsOnTrade),"sell"===n){let e=s?s.effectsOnSell||e2(s.effectsOnTrade,l):i.effectsOnSell||e2(i.effectsOnTrade,l);t=e5(l,i.calcEffects(l,e),i.id)}0===Object.keys(t).length&&(t=void 0)}return i.effectsOnCraft&&0===Object.keys(r=i.calcEffects(l,i.effectsOnCraft)).length&&(r=void 0),(0,a.jsxs)("div",{className:ty().detailsWrapper,children:[s&&(0,a.jsx)("h5",{className:ty().subheading,children:c("common.current_tier")}),(0,a.jsx)(tg,{entity:i,state:l,action:n,hasNext:!!s}),s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h5",{className:ty().subheading,children:c("common.next_tier")}),(0,a.jsx)(tg,{entity:s,state:l,action:n,hasNext:!0})]}),(o||d||p)&&t&&(0,a.jsx)("div",{className:ty().cost,children:(0,a.jsxs)("div",{className:ty().group,children:[(0,a.jsx)("h5",{className:ty().subheading,children:c("multipliers")}),Object.keys(t).map(e=>{let r=t[e];if("number"!=typeof r||!r)return;let i=eZ(e);return(0,a.jsxs)("div",{children:[Math.abs(r)," ",Y(c,e,null==i?void 0:i.label)]},e)})]})}),u&&r&&(0,a.jsx)("div",{className:ty().cost,children:(0,a.jsx)("div",{className:ty().group,children:Object.keys(r).map(e=>{let t=r[e];if("number"!=typeof t||!t)return;let i=eZ(e);return(0,a.jsxs)("div",{children:[Math.abs(t)," ",Y(c,e,null==i?void 0:i.label)]},e)})})})]})},tT=e=>{let{entity:t,action:r,nextEntity:i}=e,n=(0,h.useTranslations)();if(!t)return;let s=Y(n,"".concat(t.id,".label"),t.label),c=Z(n,"".concat(t.id,".desc"),t.desc),l="";return t.quality>1&&(l="+".concat(t.quality-1)),"furniture"===t.subtype&&t.slot&&(c=(c?c+" - ":"")+n("common.only_1")),(0,a.jsxs)("div",{className:tm().wrapper,children:["blueprint"===t.subtype&&(0,a.jsx)("h5",{className:tm().supheading,children:n("common.blueprint")}),(0,a.jsxs)("h4",{className:tm().heading,children:[s,l]}),"equipment"===t.subtype&&t.slot&&(0,a.jsx)("h5",{className:tm().subheading,children:n("equipment.slots.".concat(t.slot))}),c&&(0,a.jsx)("div",{className:tm().desc,children:c}),(0,a.jsx)(tx,{entity:t,nextEntity:i,action:r})]})},tj=e=>{let{}=e,t=(0,h.useTranslations)("common"),r=(0,_.v9)(e=>e.achievements);return(0,a.jsxs)("div",{className:to().wrapper,children:[(0,a.jsx)(tc.Dx,{className:to().title,children:t("achievements")}),(0,a.jsx)("div",{className:to().achievements,children:r.list.map((e,t)=>{let r=eO.find(t=>t.id===e.id);if(!r)return;let i=new el({...eG.find(t=>t.id==="misc.achievement_".concat(e.id)),...r});return(0,a.jsx)("div",{className:to().achieve,children:(0,a.jsx)(t_,{content:e.completed?(0,a.jsx)(tT,{entity:i}):r.hint,children:(0,a.jsx)("div",{className:to().achieveInner,children:(0,a.jsx)("div",{className:to().achieveContent,children:e.completed?r.label:"?"})})})},t)})}),(0,a.jsx)("div",{className:to().actions,children:(0,a.jsx)(tc.x8,{asChild:!0,children:(0,a.jsx)("button",{className:to().btn,children:"Close"})})})]})},tk=r(9198),tS=r.n(tk),tA=e=>{let{children:t,content:r,disabled:i=!1,className:n,style:s,isOpen:l,handleToggle:o}=e;return i?t:(0,a.jsxs)(tc.fC,{open:l,onOpenChange:o,children:[t&&(0,a.jsx)(tc.xz,{asChild:!0,children:t}),(0,a.jsxs)(tc.h_,{children:[(0,a.jsx)(tc.aV,{className:tS().overlay}),(0,a.jsxs)(tc.VY,{className:c()(tS().content,n),style:s,children:[(0,a.jsx)(tc.x8,{asChild:!0,children:(0,a.jsx)("div",{className:tS().close,children:(0,a.jsx)(ti.G,{icon:tn.NBC,style:{fontSize:20}})})}),r]})]})]})},tC=r(8658),tL=r.n(tC),tN=e=>{let{handleConfirm:t}=e,r=(0,h.useTranslations)("common");return(0,a.jsxs)("div",{className:tL().wrapper,children:[(0,a.jsx)(tc.Dx,{className:tL().title,children:r("confirmation_required")}),(0,a.jsx)(tc.dk,{className:tL().description,children:r("confirmation_why")}),(0,a.jsxs)("div",{className:tL().actions,children:[(0,a.jsx)(tc.x8,{asChild:!0,children:(0,a.jsx)("button",{className:tL().btn,children:"Close"})}),(0,a.jsx)(tc.x8,{asChild:!0,children:(0,a.jsx)("button",{className:tL().btn,onClick:()=>t(),children:r("confirm")})})]})]})},tw=r(3126),tq=r.n(tw),tB=()=>{let e=(0,h.useTranslations)(),t=(0,_.v9)(e=>e.player.journalEntries);return(0,a.jsxs)("div",{className:tq().wrapper,children:[(0,a.jsx)(tc.Dx,{className:tq().title,children:e("common.journal")}),(0,a.jsx)("div",{className:tq().scroll,children:(0,a.jsx)("div",{className:tq().entries,children:t.map(t=>(0,a.jsxs)("div",{className:tq().entry,children:[(0,a.jsx)("h4",{children:e("journal.".concat(t,".title"))}),(0,a.jsx)("div",{className:tq().body,children:e("journal.".concat(t,".body"))})]},t))})})]})},tM=()=>{let e=(0,_.I0)(),t=(0,h.useTranslations)("common"),r=(0,_.v9)(e=>e.settings.tickMulti),i=(0,_.v9)(e=>e.player.isJournalOpen),[n,s]=(0,ts.useState)(!1);return(0,ts.useEffect)(()=>{s(i)},[i]),(0,a.jsx)("div",{className:v().wrapper,children:(0,a.jsxs)("div",{className:c()(v().inner,v().container),children:[(0,a.jsxs)("div",{className:v().speed,children:[(0,a.jsx)("button",{className:c()(0===r&&v().disabled),onClick:()=>{e(A.actions.setTickMulti({tickMulti:0}))},children:(0,a.jsx)(ti.G,{icon:tn.XQY})}),(0,a.jsx)("button",{className:c()(1===r&&v().disabled),onClick:()=>{e(A.actions.setTickMulti({tickMulti:1}))},children:(0,a.jsx)(ti.G,{icon:tn.zc})})]}),(0,a.jsx)("a",{href:"#",onClick:()=>{console.log(ta.getState(),eU),console.log(ta.getState(),eV)},children:t("debug")}),(0,a.jsx)(tA,{content:(0,a.jsx)(tN,{handleConfirm:()=>{localStorage.removeItem("saveString"),e(A.actions.adjustByKey({key:"isRestarting",value:!0})),location.reload()}}),children:(0,a.jsx)("a",{href:"#",children:t("restart")})}),(0,a.jsx)(tA,{content:(0,a.jsx)(tB,{}),isOpen:n,handleToggle:()=>e(te.actions.adjustByKey({key:"isJournalOpen",value:!1}))}),(0,a.jsx)("a",{href:"#",onClick:()=>e(te.actions.adjustByKey({key:"isJournalOpen",value:!0})),children:t("journal")}),(0,a.jsx)(tA,{style:{maxWidth:720},content:(0,a.jsx)(tj,{}),children:(0,a.jsx)("a",{href:"#",children:t("achievements")})})]})})},tO=r(703),tI=r(2549),tE=r.n(tI);function tP(){return(tP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}var tW=function(e){return d.createElement("svg",tP({xmlns:"http://www.w3.org/2000/svg",width:530.144,height:442.4,viewBox:"0 0 140.267 117.052"},e),d.createElement("g",{style:{display:"inline"}},d.createElement("path",{d:"M280.28 271.274c-4.518-.467-7.955-2.864-8.612-6.003-.297-1.421.021-3.585.721-4.985 1.103-2.163 3.988-4.39 10.945-8.505 5.049-2.97 6.512-3.988 7.806-5.388.849-.934 1.103-1.4 1.23-2.164.064-.53.085-1.018 0-1.082-.19-.19-5.324.849-8.102 1.634-3.776 1.081-5.197.87-6.958-1.082-1.103-1.23-1.527-2.61-1.315-4.285.17-1.124 7.806-23.248 8.824-25.539.721-1.59 1.973-2.99 3.394-3.754 2.376-1.294 10.436-3.627 14.72-4.264 5.219-.763 9.037-.615 14.764.53 3.436.7 10.564 2.907 12.154 3.755 1.358.742 2.61 2.142 3.33 3.733 1.019 2.291 8.655 24.415 8.825 25.54.19 1.526-.212 3.011-1.103 4.072-1.803 2.1-2.991 2.375-6.343 1.485-2.651-.7-8.06-1.888-8.675-1.888-.34 0-.382.106-.255.87.276 1.675 1.082 2.333 7.658 6.214 3.67 2.185 8.781 5.706 10.372 7.149 1.549 1.42 2.397 3.118 2.673 5.43.445 3.585-.53 5.324-3.882 6.851-3.648 1.655-8.336 1.973-27.3 1.867-8.303-.01-11.5-.09-19.408.042l-6.894-.02c-3.797-.022-7.657-.107-8.57-.213M305.882 204.16c-5.366-1.463-9.184-6.3-9.227-11.772-.042-3.415 1.06-6.258 3.31-8.654 2.502-2.652 5.472-3.946 9.035-3.946 3.564 0 6.534 1.294 9.037 3.946 2.248 2.396 3.351 5.239 3.309 8.654-.043 5.515-3.882 10.351-9.312 11.772-1.506.403-4.688.382-6.152 0",style:{strokeWidth:.212116},transform:"translate(-271.557 -171.944)"}),d.createElement("path",{d:"M345.67 271.274c-4.518-.467-7.955-2.864-8.612-6.003-.297-1.421.021-3.585.721-4.985 1.103-2.163 3.988-4.39 10.945-8.505 5.049-2.97 6.512-3.988 7.806-5.388.849-.934 1.103-1.4 1.23-2.164.064-.53.085-1.018 0-1.082-.19-.19-5.324.849-8.102 1.634-3.776 1.081-5.197.87-6.958-1.082-1.103-1.23-1.527-2.61-1.315-4.285.17-1.124 7.806-23.248 8.824-25.539.721-1.59 1.973-2.99 3.394-3.754 2.376-1.294 10.436-3.627 14.72-4.264 5.219-.763 9.037-.615 14.764.53 3.436.7 10.563 2.907 12.154 3.755 1.358.742 2.61 2.142 3.33 3.733 1.019 2.291 8.655 24.415 8.825 25.54.19 1.526-.212 3.011-1.103 4.072-1.803 2.1-2.991 2.375-6.343 1.485-2.651-.7-8.06-1.888-8.675-1.888-.34 0-.382.106-.255.87.276 1.675 1.082 2.333 7.658 6.214 3.67 2.185 8.781 5.706 10.372 7.149 1.549 1.42 2.397 3.118 2.673 5.43.445 3.585-.53 5.324-3.882 6.851-3.648 1.655-8.336 1.973-27.3 1.867-8.303-.01-11.5-.09-19.408.042l-6.894-.02c-3.797-.022-7.657-.107-8.57-.213M371.272 204.16c-5.366-1.463-9.184-6.3-9.227-11.772-.042-3.415 1.06-6.258 3.31-8.654 2.502-2.652 5.472-3.946 9.035-3.946 3.564 0 6.533 1.294 9.036 3.946 2.249 2.396 3.352 5.239 3.31 8.654-.043 5.515-3.882 10.351-9.312 11.772-1.506.403-4.688.382-6.152 0",style:{strokeWidth:.212116},transform:"translate(-271.557 -171.944)"})),d.createElement("path",{d:"M305.267 286.72c-5.636-.582-9.922-3.572-10.742-7.488-.37-1.772.026-4.471.9-6.217 1.375-2.7 4.974-5.477 13.652-10.61 6.297-3.704 8.123-4.974 9.737-6.72 1.058-1.165 1.375-1.747 1.534-2.7.08-.66.106-1.27 0-1.349-.238-.238-6.64 1.059-10.107 2.038-4.71 1.349-6.482 1.084-8.678-1.35-1.376-1.534-1.905-3.254-1.64-5.344.211-1.403 9.736-28.999 11.006-31.856.9-1.985 2.46-3.73 4.233-4.683 2.964-1.614 13.018-4.525 18.362-5.319 6.51-.952 11.272-.767 18.415.662 4.287.873 13.177 3.625 15.161 4.683 1.693.926 3.254 2.672 4.154 4.657 1.27 2.857 10.795 30.453 11.007 31.856.238 1.905-.265 3.757-1.376 5.08-2.25 2.619-3.73 2.963-7.911 1.852-3.307-.873-10.054-2.355-10.822-2.355-.423 0-.476.132-.317 1.085.344 2.09 1.35 2.91 9.551 7.752 4.578 2.725 10.954 7.117 12.938 8.916 1.932 1.773 2.99 3.89 3.334 6.774.556 4.471-.661 6.64-4.842 8.546-4.55 2.064-10.398 2.46-34.052 2.328-10.357-.011-14.345-.111-24.209.053l-8.599-.027c-4.736-.026-9.551-.132-10.689-.264z",style:{display:"inline",stroke:"#fff",strokeWidth:3.96875,strokeMiterlimit:4,strokeDasharray:"none",strokeOpacity:1},transform:"translate(-271.557 -171.944)"}),d.createElement("path",{d:"M337.202 203.006c-6.694-1.826-11.456-7.858-11.51-14.685-.052-4.26 1.324-7.805 4.128-10.795 3.122-3.307 6.827-4.92 11.272-4.92s8.149 1.613 11.27 4.92c2.805 2.99 4.181 6.536 4.128 10.795-.053 6.88-4.842 12.912-11.615 14.685-1.878.502-5.847.476-7.673 0z",style:{display:"inline",stroke:"#fff",strokeWidth:1.32292,strokeMiterlimit:4,strokeDasharray:"none",strokeOpacity:1},transform:"translate(-271.557 -171.944)"}))},tR=r(1512),tD=r.n(tR);function tG(e){let{max:t,value:r,color:i,label:n,handleBreakthrough:s,capped:c}=e,l=r/t*100;return isFinite(l)||(l=100),(0,a.jsxs)("div",{className:tD().wrapper,children:[(0,a.jsxs)("div",{className:tD().bar,children:[(0,a.jsx)("div",{className:tD().barInner,children:(0,a.jsx)("div",{className:tD().barFill,style:{background:i,width:"".concat(l,"%")}})}),c?(0,a.jsx)("div",{className:tD().breakthrough,children:"Limit Reached"}):(0,a.jsx)(a.Fragment,{children:s&&l>=100&&(0,a.jsx)("div",{className:tD().breakthrough,onClick:s,children:"Breakthrough"})})]}),(0,a.jsxs)("div",{className:tD().caption,children:[(0,a.jsx)("div",{className:tD().label,children:n}),!c&&(0,a.jsxs)("div",{className:tD().fraction,children:[Math.round(r),"/",Math.round(t)]})]})]})}let tH=(0,r(4419).P1)([e=>e.activities.assignments,e=>e.adventures.assignments],(e,t)=>[...e,...t]);var tF=()=>{let e=(0,h.useTranslations)("common"),t=(0,_.v9)(e=>e.player),r=(0,_.v9)(e=>tH(e)),[i,n]=(0,ts.useState)(0),[s,c]=(0,ts.useState)(0),[l,o]=(0,ts.useState)(0);return(0,ts.useEffect)(()=>{let e=[...O(ta.getState()).map(e=>eX(e)),...r.map(e=>eX(e))],t=0,a=0,i=0;for(let r of e){if(!r.effectsOnTick)continue;let e=r.calcEffects(ta.getState(),r.effectsOnTick);for(let n in e){let s=e[n];"number"==typeof s&&(s*=r.qty,"player.stamina.current"===n?t+=s:"player.qi.current"===n?a+=s:"player.health.current"===n&&(i+=s))}}n(t),c(a),o(i)},[t,r]),(0,a.jsxs)("div",{className:tE().bars,children:[(0,a.jsx)(tG,{value:t.stamina.current,max:t.stamina.max,color:"var(--colors-yellow)",label:e("stamina")+", "+i+" "+e("per_tick")}),(0,a.jsx)(tG,{value:t.qi.current,max:t.qi.max,color:"var(--colors-blue)",label:e("qi")+", "+s+" "+e("per_tick")}),(0,a.jsx)(tG,{value:t.health.current,max:t.health.max,color:"var(--colors-red)",label:e("health")+", "+l+" "+e("per_tick")})]})},tz=()=>{let e=(0,h.useTranslations)(),t=(0,_.v9)(e=>e.player),r=(0,_.I0)(),i=I(ta.getState(),"misc.spirit_stage",!1),n=i&&i.tier||0,s="Spirit, lvl ".concat(n,", ").concat(e("stage.".concat(n))),c=eZ("misc.spirit_stage_t".concat(n+1)),l=I(ta.getState(),"misc.meridians_stage",!1),o=l&&l.tier||0,d="Meridians, lvl ".concat(o,", ").concat(e("stage.".concat(o))),u=eZ("misc.meridians_stage_t".concat(o+1)),p=I(ta.getState(),"misc.body_stage",!1),m=p&&p.tier||0,f="Body, lvl ".concat(m,", ").concat(e("stage.".concat(m))),y=eZ("misc.body_stage_t".concat(m+1));return(0,a.jsxs)("div",{className:tE().bars,children:[(0,a.jsx)(t_,{content:i&&i.label&&(0,a.jsx)(tT,{entity:i,nextEntity:c,action:"buy"}),children:(0,a.jsx)("div",{children:(0,a.jsx)(tG,{value:t.spirit.current,max:t.spirit.max,color:"var(--colors-yellow)",label:s,handleBreakthrough:()=>{if(null==c?void 0:c.canBuy(ta.getState())){n+1>=1&&r(te.actions.addJournalEntry({key:"create_avatar"})),n+1>=2&&r(te.actions.addJournalEntry({key:"need_elixir"})),n+1>=3&&r(te.actions.addJournalEntry({key:"revenge"}));let e=ta.getState();n+1>=15&&(eP(e,r,"true_god"),o>=15&&m>=15&&eP(e,r,"true_true_god")),null==c||c.handleBuy(ta.getState(),r),r(te.actions.setByKey({key:"spirit.current",value:0})),r(e7("misc.spirit_stage_t".concat(n+1))),r(e9("misc.spirit_stage_t".concat(n)))}else{let e=Date.now();r(eB({id:e,content:"Need breakthrough elixir!"})),setTimeout(()=>r(eM(e)),1e4)}},capped:15===n})})}),(0,a.jsx)(t_,{content:l&&l.label&&(0,a.jsx)(tT,{entity:l,nextEntity:u,action:"buy"}),children:(0,a.jsx)("div",{children:(0,a.jsx)(tG,{value:t.meridians.current,max:t.meridians.max,color:"var(--colors-blue)",label:d,handleBreakthrough:e=>{if(null==u?void 0:u.canBuy(ta.getState())){null==u||u.handleBuy(ta.getState(),r),r(te.actions.setByKey({key:"meridians.current",value:0})),r(e7("misc.meridians_stage_t".concat(o+1))),r(e9("misc.meridians_stage_t".concat(o)));let e=ta.getState();n+1>=15&&(eP(e,r,"true_god"),n>=15&&m>=15&&eP(e,r,"true_true_god"))}else{let e=Date.now();r(eB({id:e,content:"Need breakthrough elixir!"})),setTimeout(()=>r(eM(e)),1e4)}},capped:15===o})})}),(0,a.jsx)(t_,{content:p&&p.label&&(0,a.jsx)(tT,{entity:p,nextEntity:y,action:"buy"}),children:(0,a.jsx)("div",{children:(0,a.jsx)(tG,{value:t.body.current,max:t.body.max,color:"var(--colors-red)",label:f,handleBreakthrough:e=>{if(null==y?void 0:y.canBuy(ta.getState())){null==y||y.handleBuy(ta.getState(),r),r(te.actions.setByKey({key:"body.current",value:0})),r(e7("misc.body_stage_t".concat(m+1))),r(e9("misc.body_stage_t".concat(m)));let e=ta.getState();n+1>=15&&(eP(e,r,"true_god"),n>=15&&o>=15&&eP(e,r,"true_true_god"))}else{let e=Date.now();r(eB({id:e,content:"Need breakthrough elixir!"})),setTimeout(()=>r(eM(e)),1e4)}},capped:15===m})})})]})},tQ=r(5352),tK=r.n(tQ);let tJ=e=>{let{id:t,left:r,size:i,type:n,onClick:s}=e;return(0,a.jsx)("div",{className:tK().orb,style:{left:"".concat(r,"%"),transition:"all 1s ease"},onClick:()=>s(t),children:(0,a.jsx)("div",{className:tK().orbInner,style:{width:"".concat(i,"px"),height:"".concat(i,"px"),backgroundColor:"var(--colors-orb-".concat(n,")"),boxShadow:"0 0 10px 1px var(--colors-orb-".concat(n,")")}})})};var tV=()=>{let e=(0,_.I0)(),t=(0,_.v9)(e=>e.player.multipliers.orbRate),[r,i]=(0,ts.useState)([]),n=["cultivation","currency","material"],s=t=>{let a=r.find(e=>e.id===t);if(!a)return;i(e=>e.filter(e=>e.id!==t));let n=ta.getState(),s=a.type;if("cultivation"===s){let t=I(n,"misc.spirit_stage",!1),r=F(5,t&&t.tier||0);e(te.actions.adjustByKey({key:"spirit.current",value:r})),e(te.actions.adjustByKey({key:"meridians.current",value:r})),e(te.actions.adjustByKey({key:"body.current",value:r}))}if("currency"===s){let t=n.player.shopLevel,r=Q(25,t);t>=4?e(B.actions.adjustByKey({key:"currencyT5",value:r})):t>=2?e(B.actions.adjustByKey({key:"currencyT3",value:r})):e(B.actions.adjustByKey({key:"currencyT1",value:r}))}if("material"===s){let t=n.player.shopLevel,r=Q(5,t);e(B.actions.adjustByKey({key:"herbsT".concat(t+1),value:r})),e(B.actions.adjustByKey({key:"woodT".concat(t+1),value:r})),e(B.actions.adjustByKey({key:"oreT".concat(t+1),value:r})),e(B.actions.adjustByKey({key:"leatherT".concat(t+1),value:r}))}};return(0,ts.useEffect)(()=>{let e=setInterval(()=>{if(ta.getState().settings.showOrbs){let e=n[Math.floor(Math.random()*n.length)],t={id:Date.now(),left:100*Math.random(),size:10*Math.random()+10,type:e,onClick:s};i(e=>[...e,t]),setTimeout(()=>{i(e=>e.filter(e=>e.id!==t.id))},5e3)}},5e3/t);return()=>clearInterval(e)},[t]),(0,a.jsx)("div",{className:tK().orbs,children:r.map(e=>(0,a.jsx)(tJ,{id:e.id,left:e.left,size:e.size,type:e.type,onClick:s},e.id))})},tU=()=>{let e=(0,_.v9)(e=>e.player);return(0,a.jsx)("div",{className:tE().wrapper,children:(0,a.jsxs)("div",{className:tE().inner,children:[(0,a.jsx)(tF,{}),(0,a.jsxs)("div",{className:tE().graphic,children:[(0,a.jsx)(tO.default,{src:"/images/cultivator.png",width:260,height:238,alt:"Cultivator",className:tE().avatar}),e.avatars.max>0&&(0,a.jsxs)("div",{className:tE().avatars,children:[(0,a.jsx)(tW,{}),(0,a.jsxs)("span",{children:[e.avatars.current,"/",e.avatars.max]})]}),(0,a.jsx)(tV,{})]}),(0,a.jsx)(tz,{})]})})},tY=r(3172),tZ=r.n(tY),tX=()=>{let e=(0,_.I0)(),t=(0,h.useTranslations)("common"),r=(0,_.v9)(e=>e.settings.activeScreen),i=(0,_.v9)(e=>e.player.journalEntries.includes("need_shop")),n=(0,_.v9)(e=>e.player.journalEntries.includes("learnt_blueprint")),s=t=>()=>{e(A.actions.setActiveScreen({id:t}))};return(0,a.jsxs)("div",{className:tZ().wrapper,children:[(0,a.jsxs)("nav",{className:tZ().inner,children:[(0,a.jsx)("a",{href:"#activities",className:c()(tZ().link,"activities"===r&&tZ().active),onClick:s("activities"),children:t("activities")}),i&&(0,a.jsx)("a",{href:"#player",className:c()(tZ().link,"player"===r&&tZ().active),onClick:s("player"),children:t("player")}),i&&(0,a.jsx)("a",{href:"#home",className:c()(tZ().link,"home"===r&&tZ().active),onClick:s("home"),children:t("home")}),i&&(0,a.jsx)("a",{href:"#shop",className:c()(tZ().link,"shop"===r&&tZ().active),onClick:s("shop"),children:t("shop")}),n&&(0,a.jsx)("a",{href:"#craft",className:c()(tZ().link,"craft"===r&&tZ().active),onClick:s("craft"),children:t("craft")}),n&&(0,a.jsx)("a",{href:"#adventure",className:c()(tZ().link,"adventure"===r&&tZ().active),onClick:s("adventure"),children:t("adventure")})]}),(0,a.jsx)(p,{className:c()(tZ().cornercap,tZ().cornercapTopLeft)}),(0,a.jsx)(p,{className:c()(tZ().cornercap,tZ().cornercapTopRight)})]})},t$=()=>{let e=(0,_.I0)(),t=(0,h.useTranslations)(),r=(0,_.v9)(e=>e.settings.tickRate)*(0,_.v9)(e=>e.settings.tickMulti),a=(0,_.v9)(e=>e.adventures.assignments),i=(0,_.v9)(e=>e.activities.assignments),n=(0,_.v9)(e=>e.player.miscEntities),s=(0,_.v9)(e=>e.equipment.slots),c=(0,_.v9)(e=>e.home.furnitures),l=(0,_.v9)(e=>e.home.areas),o=(0,_.v9)(e=>e.player.inventory),d=(0,_.v9)(e=>e.crafting);return(0,ts.useEffect)(()=>{let u=null,p=()=>{{let t=ta.getState();for(let r of t.adventures.assignments){let a=eZ(r.id);a&&(t.player.mountRange<a.distance||!a.unlocked(t))&&e(en.actions.assign({id:r.id,qty:0}))}}for(let t of n){let r=new el({...eU.find(e=>e.id===t.id),...t});if(r&&r.effectsOnTick)for(let a=0;a<t.qty;a++)r.handleTick(ta.getState(),e)}for(let t in s){let r=s[t];if(r){if(Array.isArray(r))for(let t of r){if(!t)continue;let r=ta.getState(),a=new eR({...ew.find(e=>e.id===t.id),...t});(null==a?void 0:a.canTick(r,ta.dispatch))&&(null==a||a.handleTick(r,e))}else{let t=ta.getState(),a=new eR({...ew.find(e=>e.id===r.id),...r});(null==a?void 0:a.canTick(t,ta.dispatch))&&(null==a||a.handleTick(t,e))}}}for(let t of c){if(!t)continue;let r=new el({...ej.find(e=>e.id===t.id),...t});r&&r.effectsOnTick&&r.handleTick(ta.getState(),e)}for(let t of l){if(!t)continue;let r=new el({...eb.find(e=>e.id===t.id),...t});r&&r.effectsOnTick&&r.handleTick(ta.getState(),e)}if(a)for(let r of a){let a=eJ.find(e=>e.id===r.id),i=ta.getState();a&&r.qty>0?a.unlocked(i)&&a.canTick(i,ta.dispatch)&&a.handleTick(i,e,t):i.adventures.battles[r.id]&&i.adventures.battles[r.id].length>0&&e(en.actions.clearAssignmentBattles({id:r.id}))}if(i)for(let t of i){let r=ta.getState(),a=ef.find(e=>e.id===t.id);if(a&&a.effectsOnTick&&a.unlocked(r)){let i={};i={...i,...ei(r,a,t.qty)};let n=new el;n.canDoEffects(r,i,"tick")&&(n.handleDoEffects(r,e,i,"tick"),"work"===a.subtype&&eP(r,e,"worker",t.qty),"gather"===a.subtype&&eP(r,e,"gatherer",t.qty))}}let _=[...d.queue];for(let e=0;e<_.length;e++){let t=_[e],r=eZ(t.id);if(!r)continue;let a=r.canCraft(ta.getState());if("untilx"===t.method){let e=G([...o,...O(ta.getState())],e8(t),t.minQuality);a=a&&e<(t.qty||0)}else"xtimes"===t.method&&(a=a&&(t.qty||0)>0);_[e]={...t,canCraft:a}}for(let t=0;t<d.assigned;t++){let t=_.findIndex(e=>e.canCraft);if(-1===t)break;let r=_[t],a=eZ(r.id),i=a.handleCraft(ta.getState(),e);if(i){if((i.quality||1)>=(r.minQuality||1))e(te.actions.addToInventory({item:i})),"untilx"===r.method||"xtimes"===r.method&&(_[t].qty=(r.qty||0)-1);else{let t=ta.getState(),r=t.home.furnitures.find(e=>e.id.includes(".recycler_"));if(r){let i=eZ(r.id),n=(25+5*(((null==i?void 0:i.tier)||1)-1))/100,s=e3(t,a.effectsOnCraft,n);a.handleDoEffects(t,e,s)}else a.quality=i.quality||1,a.handleSell(t,e,1,!1)}}}_&&e(ec.actions.replaceQueue({queue:_})),r>0&&(u=setTimeout(p,r))};return r>0&&(u=setTimeout(p,r)),()=>{u&&clearTimeout(u)}},[e,r,i,a,n,s,o,c,l,d]),null},t0=r(5822),t1=r.n(t0),t2=r(6788),t5=r.n(t2),t3=r(9598),t4=r.n(t3),t6=e=>{let{qty:t,maxQty:r,handleChangeQty:i,style:n="large",canIncrease:s,canDecrease:l,isAdjustingMax:o=!1}=e,[d,u]=(0,ts.useState)(0),[p,_]=(0,ts.useState)(!1);return void 0===s&&(s=void 0===r||t<r),void 0===l&&(l=t>=1),(0,ts.useEffect)(()=>{10===d&&(_(!0),setTimeout(()=>{_(!1)},5e3))},[d]),(0,a.jsx)(t_,{content:(0,a.jsxs)("div",{style:{textAlign:"center"},children:["Shift+Click to step by 10, ",(0,a.jsx)("br",{}),"or Ctrl+Click to max"]}),forcedOpen:p,children:(0,a.jsxs)("div",{className:c()("large"===n&&t4().qtyLarge,"small"===n&&t4().qtySmall),children:[(0,a.jsx)("button",{className:c()(!l&&t4().disabled),onClick:e=>{e.stopPropagation();let a=o&&void 0!==r?r:t;e.shiftKey?a-=10:e.ctrlKey?a=0:(a-=1,u(d+1)),!o&&void 0!==r&&a>r&&(a=r),a<0&&(a=0),i(a)},children:(0,a.jsx)(ti.G,{icon:tn.Kl4,style:{fontSize:10}})}),(0,a.jsxs)("span",{children:[t,void 0!==r?"/".concat(r):""]}),(0,a.jsx)("button",{className:c()(!s&&t4().disabled),onClick:e=>{e.stopPropagation();let a=o&&void 0!==r?r:t;e.shiftKey?a+=10:e.ctrlKey?a=r||100:(a+=1,u(d+1)),!o&&void 0!==r&&a>r&&(a=r),a<0&&(a=0),i(a)},children:(0,a.jsx)(ti.G,{icon:tn.r8p,style:{fontSize:10}})})]})})};function t7(e){let{activity:t}=e,r=(0,_.I0)(),i=(0,_.v9)(e=>e.player.avatars),n=(0,_.v9)(e=>e.crafting.assigned),s=(0,_.v9)(e=>e.activities.assignments.reduce((e,t)=>e+t.qty,0)),l=(0,_.v9)(e=>e.adventures.assignments.reduce((e,t)=>e+t.qty,0)),o=(0,_.v9)(e=>e.activities.assignments.reduce((e,r)=>e+(r.id===(null==t?void 0:t.id)?r.qty:0),0)),[d,u]=(0,ts.useState)(!1);if((0,ts.useEffect)(()=>{let e=()=>{u(!t.canTick(ta.getState(),r))};e();let a=setInterval(e,500);return()=>clearInterval(a)},[]),!t)return;let p=i.current-(n+s+l)+o;return(0,a.jsxs)("div",{className:c()(t5().wrapper,t5().beveled),children:[(0,a.jsx)(t_,{content:t&&t.label&&(0,a.jsx)(tT,{entity:t,action:"activity"}),children:(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:c()(t5().main,t5().beveled,d&&t5().disabled),onClick:e=>{let a=1;"activity.create_avatar"===t.id&&(r(te.actions.addJournalEntry({key:"created_avatar"})),e.shiftKey?a=10:e.ctrlKey&&(a=et(ta.getState(),t.effectsOnTick)||100));for(let e=0;e<a;e++)t.handleTick(ta.getState(),r)},children:(0,a.jsx)("span",{className:t5().label,children:t.label})})})}),t.assignable&&i.max>0&&(0,a.jsxs)("div",{className:t5().sub,children:[(0,a.jsx)(tW,{className:t5().avatars}),(0,a.jsx)(t6,{qty:o,maxQty:p,handleChangeQty:e=>{r(L.actions.assign({id:t.id,qty:e}))},style:"small"})]})]})}var t9=()=>{let e=(0,_.v9)(e=>e.activities),t=(0,_.v9)(e=>e.settings),r=ta.getState(),i=ef.filter(a=>{let i=e.hidden.includes(a.id)&&!t.showAll,n=a.unlocked(r);return!i&&n}),n=i.filter(e=>"main"===e.subtype),s=i.filter(e=>"cultivate"===e.subtype),c=i.filter(e=>"work"===e.subtype),l=i.filter(e=>"gather"===e.subtype),o=e=>(0,a.jsx)(t7,{activity:e},e.id);return(0,a.jsxs)("div",{className:t1().wrapper,children:[n.length>0&&(0,a.jsxs)("div",{className:t1().group,children:[(0,a.jsx)("h3",{children:"Main"}),(0,a.jsx)("div",{className:t1().columns,children:n.map(e=>o(e))})]}),s.length>0&&(0,a.jsxs)("div",{className:t1().group,children:[(0,a.jsx)("h3",{children:"Cultivate"}),(0,a.jsx)("div",{className:t1().columns,children:s.map(e=>o(e))})]}),c.length>0&&(0,a.jsxs)("div",{className:t1().group,children:[(0,a.jsx)("h3",{children:"Work"}),(0,a.jsx)("div",{className:t1().columns,children:c.map(e=>o(e))})]}),l.length>0&&(0,a.jsxs)("div",{className:t1().group,children:[(0,a.jsx)("h3",{children:"Gather"}),(0,a.jsx)("div",{className:t1().columns,children:l.map(e=>o(e))})]})]})},t8=r(8778),re=r.n(t8),rt=r(3633),rr=r.n(rt),ra=r(9236),ri=r.n(ra),rn=e=>{let t,{entity:r,actionPrimary:i,actionSecondary:n,index:s}=e,l=(0,_.I0)(),o=(0,h.useTranslations)(),d=ta.getState(),[u,p]=(0,ts.useState)(1);"stackSize"in r&&r.stackSize>1&&("buy"===n&&"effectsOnTrade"in r?t=et(d,r.effectsOnTrade):"sell"===n&&(t=W(d.player.inventory,e8(r),!0))),t&&t>0&&(t=Math.floor(t));let m=e=>{let t=ta.getState();if("buy"===e&&"handleBuy"in r)return r.handleBuy(t,l,u);if("sell"===e&&"handleSell"in r)return r.handleSell(t,l,u);if("craft"===e&&"handleCraft"in r)return r.handleCraft(t,l);if("queue"===e)l(ec.actions.addQueue({id:r.id,qty:u}));else if("dequeue"===e)l(ec.actions.removeQueue({index:s}));else{if("activate"===e)return r.handleActivate(t,l);if("deactivate"===e)return r.handleDeactivate(t,l);"upgrade"===e||"keep"===e&&(console.log("index",s),l(en.actions.removeFromLoot({index:s})),l(te.actions.addToInventory({item:e8(r),qty:r.qty})),l(ec.actions.learnRecipe({id:r.id})))}},f=e=>{let t=ta.getState();if("buy"===e&&"canBuy"in r)return r.canBuy(t);if("sell"===e&&"canSell"in r)return r.canSell(t);if("craft"===e&&"canCraft"in r)return r.canCraft(t);if("activate"===e)return r.canActivate(t);if("deactivate"===e)return r.canDeactivate(t);if("upgrade"===e&&"canBuy"in r);else if("keep"===e)return P(t.player);return!0},y=e=>{if(!f(e))return"buy"===e?o("common.cant_buy"):"sell"===e?o("common.cant_sell"):"craft"===e?o("common.cant_craft"):o("common.cant_do")},v=(e,t)=>"activate"===e?o("common.".concat(e,"_").concat(t)):"deactivate"===e?o("common.".concat(e,"_").concat(t)):o("common.".concat(e));return(0,a.jsxs)("div",{className:ri().wrapper,children:[(0,a.jsxs)(tc.Dx,{className:ri().title,children:[Z(o,"".concat(r.id,".label"),r.label),r.quality>1?"+".concat(r.quality-1):""]}),(0,a.jsx)(tc.dk,{className:ri().description,children:Z(o,"".concat(r.id,".desc"),r.desc)}),(0,a.jsx)(tx,{entity:r,action:n}),(0,a.jsxs)("div",{className:ri().actions,children:[n&&(0,a.jsx)(t_,{content:y(n),children:(0,a.jsx)(tc.x8,{asChild:!0,disabled:!f(n),children:(0,a.jsx)("button",{className:c()(ri().btn,ri().btnSecondary),onClick:()=>m(n),disabled:!f(n),children:v(n,r.subtype)})})}),(void 0!==t&&t>1||"queue"===n)&&(0,a.jsx)(t6,{qty:u,maxQty:t,handleChangeQty:e=>{p(e)}}),i&&"component"!==r.subtype&&(0,a.jsx)(t_,{content:y(i),children:(0,a.jsx)(tc.x8,{asChild:!0,disabled:!f(i),children:(0,a.jsx)("button",{className:c()(ri().btn,ri().btnPrimary),onClick:()=>m(i),disabled:!f(i),children:v(i,r.subtype)})})})]})]})},rs=e=>{let{label:t,item:r,actionPrimary:i,actionSecondary:n,index:s,className:l,disabled:o=!1}=e,d=r&&eD.find(e=>e.id===r.id),u=new eR({...d,...r}),p=(0,a.jsx)("span",{className:rr().label,children:t||(null==d?void 0:d.label)}),_=u.id;return u.recipe&&(_=u.recipe),u.creatureId&&(_=u.creatureId.substring(0,u.creatureId.lastIndexOf("_"))),(0,a.jsx)("div",{className:c()(rr().wrapper,l,o&&rr().disabled),children:(0,a.jsx)("div",{className:c()(rr().inner,!r&&rr().blank,rr()["quality".concat(null==r?void 0:r.quality)]),children:r?(0,a.jsx)(tA,{disabled:o,content:u&&(0,a.jsx)(rn,{entity:u,actionPrimary:i,actionSecondary:n,index:s}),children:(0,a.jsxs)("div",{className:c()(rr().main),children:[u.recipe&&(0,a.jsx)(tO.default,{src:"/images/blueprint.png",alt:"Blueprint",fill:!0,className:rr().backdrop,sizes:"60px"}),u.creatureId&&(0,a.jsx)(tO.default,{src:"/images/thumbnails/item.capture_crystal_t".concat(u.tier,".png"),alt:"Crystal",fill:!0,className:rr().backdrop,style:{padding:6},sizes:"60px"}),(0,a.jsx)(t_,{content:u&&(0,a.jsx)(tT,{entity:u,action:n}),children:(0,a.jsx)(tO.default,{src:"/images/thumbnails/".concat(_,".png"),alt:u.label,fill:!0,style:{padding:u.padding},sizes:"60px"})}),r.qty&&r.qty>1&&(0,a.jsx)("div",{className:rr().qty,children:r.qty})]})}):p})})},rc=r(667),rl=r.n(rc);function ro(e){let{onClick:t,children:r,className:i}=e;return(0,a.jsx)("div",{className:i,children:(0,a.jsx)("div",{className:c()(rl().wrapper,rl().beveled),children:(0,a.jsx)("div",{className:c()(rl().main,rl().beveled),onClick:()=>{t&&t()},children:r})})})}var rd=r(4227),ru=r.n(rd),rp=e=>{var t;let{items:r,actionPrimary:i,actionSecondary:n}=e,[s,c]=(0,ts.useState)("all"),[l,o]=(0,ts.useState)("all");return(null===(t=r[0])||void 0===t?void 0:t.type)||(r=r.map(e=>e?new eR({...eY(e.id),...e}):null)),"all"===s||(r="misc"===s?r.filter(e=>!e||"equipment"!==e.subtype&&"consumable"!==e.subtype&&"furniture"!==e.subtype&&"blueprint"!==e.subtype):r.filter(e=>!e||e.subtype===s)),"all"===l||(r=r.filter(e=>!e||e.tier===Number(l))),(0,a.jsxs)("div",{className:ru().wrapper,children:[(0,a.jsxs)("div",{className:ru().filter,children:[(0,a.jsx)("span",{children:"Filter:"}),(0,a.jsx)("div",{className:ru().select,children:(0,a.jsxs)("select",{value:s,onChange:e=>{c(e.target.value)},children:[(0,a.jsx)("option",{value:"all",children:"Type"}),(0,a.jsx)("option",{value:"equipment",children:"Equipment"}),(0,a.jsx)("option",{value:"consumable",children:"Consumable"}),(0,a.jsx)("option",{value:"furniture",children:"Furniture"}),(0,a.jsx)("option",{value:"blueprint",children:"Blueprint"}),(0,a.jsx)("option",{value:"misc",children:"Misc"})]})}),(0,a.jsx)("div",{className:ru().select,children:(0,a.jsxs)("select",{value:l,onChange:e=>{o(e.target.value)},children:[(0,a.jsx)("option",{value:"all",children:"Tier"}),(0,a.jsx)("option",{value:"1",children:"1"}),(0,a.jsx)("option",{value:"2",children:"2"}),(0,a.jsx)("option",{value:"3",children:"3"}),(0,a.jsx)("option",{value:"4",children:"4"}),(0,a.jsx)("option",{value:"5",children:"5"})]})})]}),(0,a.jsx)("div",{className:ru().grid,children:r.map((e,t)=>(0,a.jsx)(rs,{item:e,actionPrimary:i,actionSecondary:n,index:t},t))})]})},r_=()=>{let e=(0,_.I0)(),t=(0,_.v9)(e=>e.player),r=(0,_.v9)(e=>e.equipment),i=(0,_.v9)(e=>e.adventures.loot),n=(0,h.useTranslations)(),s=[],l=["stamina","qi","health","spirit","meridians","body","avatars","isJournalOpen"],o={...t};for(let e in o)if(!l.includes(e)){if("number"==typeof o[e])s.push({key:e,value:o[e]});else if("object"==typeof o[e]&&void 0!==o[e].current&&void 0!==o[e].max)s.push({key:"".concat(e,".current"),value:o[e].current,cap:o[e].max});else if("object"==typeof o[e]&&"multipliers"===e)for(let t in o[e])s.push({key:"multipliers.".concat(t),value:X(100*o[e][t])+"%"})}return(0,a.jsxs)("div",{className:re().wrapper,children:[(0,a.jsxs)("div",{className:re().items,children:[(0,a.jsxs)("div",{className:re().equipment,children:[(0,a.jsxs)("div",{className:c()(re().equipmentGroup,re().equipmentMain),children:[(0,a.jsx)(rs,{label:n("equipment.slots.weapon"),item:r.slots.weapon,actionPrimary:"deactivate"}),(0,a.jsx)(rs,{label:n("equipment.slots.armor"),item:r.slots.armor,actionPrimary:"deactivate"}),(0,a.jsx)(rs,{label:n("equipment.slots.storageRing"),item:r.slots.storageRing,actionPrimary:"deactivate"}),r.slots.accessories.map((e,t)=>(0,a.jsx)(rs,{label:n("equipment.slots.accessories"),item:e,actionPrimary:"deactivate"},t))]}),(0,a.jsx)(tO.default,{src:"/images/cultivator-outline.png",width:260,height:343,alt:"Cultivator",className:re().graphic}),(0,a.jsxs)("div",{className:re().equipmentGroup,children:[(0,a.jsx)(rs,{label:n("equipment.slots.toolHerb"),item:r.slots.toolHerb,actionPrimary:"deactivate"}),(0,a.jsx)(rs,{label:n("equipment.slots.toolWood"),item:r.slots.toolWood,actionPrimary:"deactivate"}),(0,a.jsx)(rs,{label:n("equipment.slots.toolOre"),item:r.slots.toolOre,actionPrimary:"deactivate"}),(0,a.jsx)(rs,{label:n("equipment.slots.mount"),item:r.slots.mount,actionPrimary:"deactivate"}),(0,a.jsx)(rs,{label:n("equipment.slots.creature"),item:r.slots.creature,actionPrimary:"deactivate"})]})]}),(0,a.jsxs)("div",{className:re().inventory,children:[(0,a.jsx)("div",{className:re().header,children:(0,a.jsx)("h3",{children:n("common.inventory")})}),(0,a.jsx)(rp,{items:t.inventory,actionPrimary:"activate",actionSecondary:"sell"})]}),i.length>0&&(0,a.jsxs)("div",{className:re().loot,children:[(0,a.jsxs)("div",{className:re().header,children:[(0,a.jsx)("h3",{children:n("common.loot")}),(0,a.jsx)(tA,{content:(0,a.jsx)(tN,{handleConfirm:()=>{for(let t of i){let r=eZ(t.id);r&&r.handleSell(ta.getState(),e,t.qty,!1,!0)}}}),children:(0,a.jsx)("div",{children:(0,a.jsx)(ro,{children:"Sell All"})})})]}),(0,a.jsx)(rp,{items:i,actionPrimary:"keep"})]})]}),(0,a.jsxs)("div",{className:re().aside,children:[(0,a.jsxs)("div",{className:re().stats,children:[(0,a.jsx)("h3",{children:n("common.stats")}),s.map((e,t)=>(0,a.jsxs)("div",{className:re().stat,children:[(0,a.jsx)("span",{className:re().statLabel,children:n("player.".concat(e.key))}),(0,a.jsxs)("span",{className:re().statValue,children:[e.value,void 0!==e.cap&&"/".concat(e.cap)]})]},t))]}),(0,a.jsxs)("div",{className:re().stats,children:[(0,a.jsx)("h3",{children:n("common.effects")}),t.miscEntities.map((e,t)=>{let r=eZ(e.id);if(r&&r.tickDuration)return(0,a.jsxs)("div",{className:re().stat,children:[(0,a.jsx)("span",{className:re().statLabel,children:Z(n,"".concat(r.id,".label"),r.label)}),(0,a.jsxs)("span",{className:re().statValue,children:[e.tickDuration,"s"]})]},t)})]})]})]})},rh=r(3422),rm=r.n(rh),rf=r(1763),ry=r.n(rf);function rv(e){let{id:t}=e,r=(0,h.useTranslations)(),i=eZ(t);console.log("id",t,i);let n=(0,_.v9)(e=>!(i&&i.canBuy(ta.getState())&&i.canActivate(ta.getState())));if(t&&i)return(0,a.jsx)("div",{className:c()(ry().wrapper,ry().beveled),children:(0,a.jsx)(t_,{content:i&&i.label&&(0,a.jsx)(tT,{entity:i,action:"upgrade"}),children:(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:c()(ry().main,ry().beveled,n&&ry().disabled),children:[r("common.upgrade"),(0,a.jsx)(ti.G,{icon:tn.FPD,style:{fontSize:11}})]})})})})}var rb=()=>{let e=(0,_.v9)(e=>e.player),t=(0,_.v9)(e=>e.crafting.recipes),r=(0,h.useTranslations)("common"),i=(0,_.I0)(),n=eD.filter(r=>{let a=!r.recipe||!t.includes(r.recipe),i=e.shopLevel+1>=r.tier;return r.unlocked(ta.getState())&&r.isBuyable&&i&&a}),s=n.filter(e=>"upgrade"!==e.subtype),c=n.filter(e=>"upgrade"===e.subtype),l=eZ("misc.shop_levelup_t".concat(e.shopLevel+1)),o=l&&l.canBuy(ta.getState())&&l.canActivate(ta.getState());return(0,a.jsxs)("div",{className:rm().wrapper,children:[(0,a.jsxs)("div",{className:rm().shopInventory,children:[(0,a.jsxs)("div",{className:rm().header,children:[(0,a.jsx)("h3",{children:r("buy")}),(0,a.jsx)(tA,{disabled:!o,content:(0,a.jsx)(tN,{handleConfirm:()=>{if(!l)return;let e=ta.getState();l.handleBuy(e,i),i(e7("misc.shop_levelup_t".concat(e.home.islandLevel+1))),i(e9("misc.shop_levelup_t".concat(e.home.islandLevel))),e.home.islandLevel>=4&&eP(e,i,"shop_level")}}),children:(0,a.jsx)("div",{children:(0,a.jsx)(rv,{id:"misc.shop_levelup_t".concat(e.shopLevel+1)})})})]}),(0,a.jsx)(rp,{items:s,actionSecondary:"buy"}),(0,a.jsx)("h3",{children:r("special_upgrades")}),(0,a.jsx)(rp,{items:c,actionSecondary:"buy"})]}),(0,a.jsxs)("div",{className:rm().playerInventory,children:[(0,a.jsx)("h3",{children:r("sell")}),(0,a.jsx)(rp,{items:e.inventory,actionSecondary:"sell",actionPrimary:"activate"})]})]})},rg=r(9089),rx=r.n(rg),rT=r(3459),rj=r.n(rT);function rk(e){let{adventure:t}=e,r=(0,_.I0)(),i=(0,_.v9)(e=>e.adventures.selectedAdventure),n=(0,_.v9)(e=>e.adventures.hidden),s=(0,_.v9)(e=>e.player.avatars),l=(0,_.v9)(e=>e.crafting.assigned),o=(0,_.v9)(tH),d=(0,_.v9)(e=>!t.canTick(ta.getState(),r));if(!t)return;let u=s.current,p=s.max,h=o.reduce((e,r)=>e+(r.id===t.id?r.qty:0),0),m=ee(o)+l;return n.includes(t.id),(0,a.jsx)("div",{className:c()(rj().wrapper,i===t.id&&rj().active),children:(0,a.jsxs)("div",{className:c()(rj().inner,rj().beveled),children:[(0,a.jsx)("div",{className:c()(rj().main,rj().beveled,d&&rj().disabled),onClick:e=>{r(en.actions.setSelectedAdventure({id:i===t.id?null:t.id}))},children:(0,a.jsx)("span",{className:rj().label,children:t.label})}),p>0&&(0,a.jsxs)("div",{className:rj().sub,children:[(0,a.jsx)(tW,{className:rj().avatars}),(0,a.jsx)(t6,{qty:h,maxQty:u-m+h,handleChangeQty:e=>{r(en.actions.assign({id:t.id,qty:e}))},style:"small"})]})]})})}var rS=r(4),rA=r.n(rS),rC=e=>{let{entity:t}=e,r=(0,h.useTranslations)();if(!t)return;let i=t.label,n=Z(r,"".concat(t.id,".desc"),t.desc);return(0,a.jsxs)("div",{className:rA().wrapper,children:[(0,a.jsx)("h4",{className:rA().heading,children:i}),(0,a.jsx)("div",{className:rA().desc,children:n}),(0,a.jsxs)("div",{className:rA().stats,children:[(0,a.jsxs)("div",{className:rA().stat,children:[(0,a.jsx)("span",{children:r("common.health")}),(0,a.jsx)("span",{children:t.health})]}),(0,a.jsxs)("div",{className:rA().stat,children:[(0,a.jsx)("span",{children:r("player.attackPower")}),(0,a.jsx)("span",{children:t.attackPower})]}),(0,a.jsxs)("div",{className:rA().stat,children:[(0,a.jsx)("span",{children:r("common.capture_rate")}),(0,a.jsx)("span",{children:$(t.captureRate).replace("+","")})]})]})]})};function rL(e){let{creatureEntity:t,label:r}=e,i=(0,_.I0)(),n=(0,h.useTranslations)(),s=t.health,l=t.health,o=(0,_.v9)(e=>e.adventures.creaturesCapturing.includes(t.id));return(0,a.jsxs)("div",{className:c()(tD().wrapper,tD().creature),onClick:()=>{t.isCapturable&&i(en.actions.toggleCreatureCapturing({id:t.id}))},children:[(0,a.jsxs)("div",{className:tD().bar,children:[(0,a.jsx)("div",{className:tD().barInner,children:(0,a.jsx)("div",{className:tD().barFill,style:{background:"var(--colors-red)",width:"".concat(s/l*100,"%")}})}),t.isCapturable&&(0,a.jsx)(a.Fragment,{children:o?(0,a.jsx)("div",{className:tD().capturing,children:n("common.capturing")}):(0,a.jsx)("div",{className:tD().shouldCapture,children:n("common.click_to_capture")})})]}),(0,a.jsxs)("div",{className:tD().caption,children:[(0,a.jsx)("div",{className:tD().label,children:r}),(0,a.jsxs)("div",{className:tD().fraction,children:[Math.round(s),"/",Math.round(l)]})]})]})}var rN=()=>{let e=(0,_.I0)(),t=(0,h.useTranslations)(),r=(0,_.v9)(e=>e.adventures),i=(0,_.v9)(e=>e.player.mountRange),n=(0,_.v9)(e=>e.adventures.selectedAdventure),s=(0,_.v9)(e=>r.selectedAdventure&&e.adventures.battles[r.selectedAdventure]),l=(0,_.v9)(e=>e.settings),o=eJ.filter(e=>{let t=r.hidden.includes(e.id)&&!l.showAll||e.distance>i,a=e.unlocked(ta.getState());return!t&&a}),[d,u]=(0,ts.useState)(!1);return(0,ts.useEffect)(()=>{if(u(!1),n){let e=setTimeout(()=>{u(!0)},175);return()=>clearTimeout(e)}},[n]),(0,a.jsxs)("div",{className:rx().wrapper,children:[(0,a.jsxs)("div",{className:rx().adventures,children:[(0,a.jsxs)("div",{className:rx().header,children:[(0,a.jsx)("h4",{children:t("common.adventures")}),(0,a.jsx)(ro,{className:c()(rx().headerButton,"bestiary"===n&&rx().active),onClick:()=>{e(en.actions.setSelectedAdventure({id:"bestiary"===n?null:"bestiary"}))},children:t("common.bestiary")})]}),o.map(e=>(0,a.jsx)(rk,{adventure:e},e.id))]}),(0,a.jsxs)("div",{className:c()(rx().battles,d&&rx().active),children:[(0,a.jsx)("h4",{children:t("bestiary"===n?"common.bestiary":"common.battles")}),(0,a.jsx)("div",{className:rx().battlesList,children:"bestiary"===n?(0,a.jsx)(a.Fragment,{children:[...r.creaturesSeen].sort((e,t)=>e.localeCompare(t)).map((e,r)=>{let i=eZ(e),n=Y(t,"".concat(i.id,".label"),i.label);return(0,a.jsx)(t_,{content:i&&(0,a.jsx)(rC,{entity:i}),children:(0,a.jsx)("div",{children:(0,a.jsx)(rL,{creatureEntity:i,label:n},r)})},r)})}):(0,a.jsx)(a.Fragment,{children:s&&s.map((e,r)=>{let i=eZ(e.enemyId),n=Y(t,"".concat(i.id,".label"),i.label);return(0,a.jsx)(tG,{value:e.enemyHealth,max:i.health,color:"var(--colors-red)",label:n},r)})})})]})]})},rw=r(2971),rq=r.n(rw),rB=()=>{let e=(0,_.v9)(e=>e.player),t=(0,_.v9)(e=>e.home),r=(0,h.useTranslations)("common"),i=(0,_.I0)(),n=eD.filter(e=>"area"===e.subtype&&e.unlocked(ta.getState())),s=t.furnitures.filter(e=>null!==e),c=Object.keys(t.areaSize).reduce((e,r)=>{for(let a=0;a<t.areaSize[r];a++)e.push(r);return e},[]),l=eZ("misc.island_levelup_t".concat(t.islandLevel+1)),o=l&&l.canBuy(ta.getState())&&l.canActivate(ta.getState());return(0,a.jsxs)("div",{className:rq().wrapper,children:[(0,a.jsx)("div",{className:rq().preview,children:(0,a.jsx)(tO.default,{src:"/images/island-".concat(t.islandLevel,".png"),fill:!0,alt:"Island"})}),(0,a.jsxs)("div",{className:rq().entities,children:[(0,a.jsxs)("div",{className:rq().areas,children:[(0,a.jsxs)("div",{className:rq().header,children:[(0,a.jsx)("h4",{children:r("areas")}),(0,a.jsx)(tA,{disabled:!o,content:(0,a.jsx)(tN,{handleConfirm:()=>{if(!l)return;let e=ta.getState();l.handleBuy(ta.getState(),i),i(e7("misc.island_levelup_t".concat(e.home.islandLevel+1))),i(e9("misc.island_levelup_t".concat(e.home.islandLevel))),e.home.islandLevel>=4&&eP(e,i,"island_level")}}),children:(0,a.jsx)("div",{children:(0,a.jsx)(rv,{id:"misc.island_levelup_t".concat(t.islandLevel+1)})})})]}),(0,a.jsx)("div",{className:rq().inventoryGrid,children:t.areas.map((e,t)=>(0,a.jsx)(rs,{item:e,actionPrimary:"deactivate"},t))}),(0,a.jsx)("div",{className:rq().inventoryGrid,children:n.map((e,r)=>{let i=t.areas.filter(t=>t&&t.id===e.id).length>0;return(0,a.jsx)(rs,{item:e,actionPrimary:"activate",disabled:i},r)})})]}),(0,a.jsxs)("div",{className:rq().furniture,children:[(0,a.jsx)("div",{className:rq().header,children:(0,a.jsx)("h4",{children:r("furniture")})}),(0,a.jsxs)("div",{className:rq().inventoryGrid,children:[s.map((e,t)=>(0,a.jsx)(rs,{item:e,actionPrimary:"deactivate"},t)),c.map((e,t)=>(0,a.jsx)(rs,{label:e},t))]}),(0,a.jsx)("div",{className:rq().inventoryGrid,children:e.inventory.map((e,t)=>{if(!e)return(0,a.jsx)(rs,{},t);let r=eZ(e.id);if(!r)return(0,a.jsx)(rs,{},t);if((null==r?void 0:r.subtype)!=="furniture")return(0,a.jsx)(rs,{label:"item"},t);let i=r.canActivate(ta.getState());return(0,a.jsx)(rs,{item:e,actionPrimary:"activate",disabled:!i},t)})})]})]})]})},rM=r(286),rO=r.n(rM),rI=r(2111),rE=r(3026),rP=r.n(rE);function rW(e){let{item:t,index:r}=e,i=(0,h.useTranslations)("common"),n=(0,_.I0)(),s=(0,_.v9)(e=>e.player.inventory),l=eZ(t.id);if(!l)return;let o=e=>{n(ec.actions.updateQueued({index:r,qty:e}))};return(0,a.jsxs)("div",{className:c()(rP().queuedItem,rP().beveled,t.canCraft?rP().craftable:rP().uncraftable),children:[(0,a.jsx)(rs,{item:l,actionSecondary:"dequeue",index:r},r),(0,a.jsxs)("div",{className:rP().qtyWrap,children:["xtimes"===t.method&&(0,a.jsx)(t6,{qty:t.qty||0,handleChangeQty:o}),"untilx"===t.method&&(0,a.jsx)(t6,{qty:G([...s,...O(ta.getState())],t,t.minQuality),maxQty:t.qty,handleChangeQty:o,canDecrease:(t.qty||0)>0,canIncrease:!0,isAdjustingMax:!0})]}),(0,a.jsx)("div",{className:rP().select,children:(0,a.jsxs)("select",{value:t.method,onChange:e=>{n(ec.actions.updateQueued({index:r,method:e.target.value,minQuality:1}))},children:[(0,a.jsx)("option",{value:"xtimes",children:i("do_x_times")}),(0,a.jsx)("option",{value:"untilx",children:i("do_until_x")}),(0,a.jsx)("option",{value:"forever",children:i("forever")})]})}),(0,a.jsx)("div",{className:rP().select,children:(0,a.jsxs)("select",{value:t.minQuality,onChange:e=>{n(ec.actions.updateQueued({index:r,minQuality:e.target.value}))},className:"untilx"===t.method?"":rP().disabled,children:[(0,a.jsx)("option",{value:"1",children:i("quality_any")}),(0,a.jsx)("option",{value:"2",children:">= +1"}),(0,a.jsx)("option",{value:"3",children:">= +2"}),(0,a.jsx)("option",{value:"4",children:">= +3"}),(0,a.jsx)("option",{value:"5",children:">= +4"})]})}),(0,a.jsx)("div",{className:rP().shmover,children:(0,a.jsx)(ti.G,{icon:tn.hx$,style:{fontSize:20}})})]})}var rR=()=>{let e=(0,_.I0)(),t=(0,_.v9)(e=>e.crafting),r=(0,h.useTranslations)("common"),i=(0,_.v9)(e=>e.player.avatars),n=(0,_.v9)(tH),s=i.current,l=t.assigned,o=ee(n)+l,d=eD.filter(e=>e.unlocked(ta.getState())&&e.effectsOnCraft&&t.recipes.includes(e.id));return(0,a.jsxs)("div",{className:rO().wrapper,children:[(0,a.jsxs)("div",{className:rO().craftingRecipes,children:[(0,a.jsx)("h3",{children:r("recipes")}),(0,a.jsx)(rp,{items:d,actionSecondary:"queue"})]}),(0,a.jsxs)("div",{className:rO().craftingQueue,children:[(0,a.jsxs)("div",{className:rO().header,children:[(0,a.jsx)("h3",{children:r("craft_queue")}),(0,a.jsxs)("div",{className:rO().assigned,children:[(0,a.jsx)(tW,{className:rO().avatars}),(0,a.jsx)(t6,{qty:l,maxQty:s-o+l,handleChangeQty:t=>{e(ec.actions.assign({qty:t}))},style:"small"})]})]}),(0,a.jsx)("div",{className:rO().queue,children:(0,a.jsx)(rI.Z5,{onDragEnd:r=>{if(!r.destination)return;let a=Array.from(t.queue),[i]=a.splice(r.source.index,1);a.splice(r.destination.index,0,i),e(ec.actions.replaceQueue({queue:a}))},children:(0,a.jsx)(rI.bK,{droppableId:"droppable",children:e=>(0,a.jsxs)("div",{...e.droppableProps,ref:e.innerRef,className:rO().queue,children:[t.queue.map((e,t)=>(0,a.jsx)(rI._l,{draggableId:e.uid,index:t,children:r=>(0,a.jsx)("div",{ref:r.innerRef,...r.draggableProps,...r.dragHandleProps,className:c()(rO().queuedItem,rO().beveled),children:(0,a.jsx)(rW,{item:e,index:t})})},e.uid)),e.placeholder]})})})})]})]})};function rD(){let e=(0,_.v9)(e=>e.settings.activeScreen);return(0,a.jsxs)(a.Fragment,{children:["activities"===e&&(0,a.jsx)(t9,{}),"player"===e&&(0,a.jsx)(r_,{}),"home"===e&&(0,a.jsx)(rB,{}),"shop"===e&&(0,a.jsx)(rb,{}),"craft"===e&&(0,a.jsx)(rR,{}),"adventure"===e&&(0,a.jsx)(rN,{})]})}let rG=e=>btoa(encodeURIComponent(JSON.stringify(e))),rH=(e,t,r)=>{let a=JSON.parse(decodeURIComponent(atob(e))),i=parseFloat(g.i8),n=["player.stamina.max","player.qi.max","player.health.max","player.spirit.max","player.meridians.max","player.body.max","player.avatars.max","player.mountRange","player.attackPower","player.defence","player.multipliers.sellFactor","player.multipliers.herbs","player.multipliers.wood","player.multipliers.ore","player.multipliers.dropRate","player.multipliers.qualityRate","player.multipliers.orbRate","player.inventoryCap","equipment.accessoryCap","equipment.techniqueCap","home.areaCap","home.areaSize.room","home.areaSize.workshop","home.areaSize.garden","home.areaSize.vault","resources.capT1","resources.capT2","resources.capT3","resources.capT4","resources.capT5","resources.capCurrency","resources.capHerbs","resources.capWood","resources.capOre","resources.capLeather","resources.capBeastCore","settings.tickRate","settings.isRestarting"];for(let e of n)ed()(a,e);let s={"home.areaCap":0};for(let e of O(a)){let r=eZ(e.id,e);if(!r||!r.effectsWhileActive)continue;let a=r.calcEffects(t,r.effectsWhileActive);Object.keys(a).forEach(r=>{if(!n.includes(r))return;let i=a[r];"function"==typeof i&&(i=i(t)),r in s&&"number"==typeof i?s[r]+=i*(e.qty||1):s[r]=i})}if(new el().handleDoEffects(t,r,s,void 0,!0),a.player.tradeHistory.length>0){for(let e of(a.player.upgradesPurchased||(a.player.upgradesPurchased={}),a.player.tradeHistory))e.id.includes("item.upgrade")&&(a.player.upgradesPurchased[e.id.split(".")[1]]||(a.player.upgradesPurchased[e.id.split(".")[1]]=0),a.player.upgradesPurchased[e.id.split(".")[1]]=a.player.upgradesPurchased[e.id.split(".")[1]]+("buy"===e.type?1:-1));ed()(a,"player.tradeHistory")}for(let e=0;e<a.adventures.assignments.length;e++){let t=a.adventures.assignments[e],r=t.battles;r&&(a.adventures.battles||(a.adventures.battles={}),a.adventures.battles[t.id]=r,delete a.adventures.assignments[e].battles)}return a.settings.version<i&&console.log("Old version..."),a};var rF=()=>{let e=(0,_.I0)(),t=(0,_.v9)(e=>e.settings.isLoaded),r=(0,_.v9)(e=>e.settings.isRestarting);return(0,ts.useEffect)(()=>{if(!t){let t=localStorage.getItem("saveString");if(t){let r=rH(t,ta.getState(),e);for(let t in tr){let a=tr[t];if("setInitialState"in a&&t in r){let i=r[t];e(a.setInitialState(i))}}}else e(e7("misc.spirit_stage_t0")),e(e7("misc.meridians_stage_t0")),e(e7("misc.body_stage_t0"));e(A.actions.adjustByKey({key:"isLoaded",value:!0}))}},[e,t]),(0,ts.useEffect)(()=>{let e=()=>{let e=ta.getState();e.settings.isLoaded&&!e.settings.isRestarting&&localStorage.setItem("saveString",rG(ta.getState()))},t=setInterval(e,3e4);return window.addEventListener("beforeunload",e),()=>{e(),clearInterval(t),window.removeEventListener("beforeunload",e)}},[t,r]),null},rz=r(3828),rQ=r(1798),rK=r(4998),rJ=r.n(rK),rV=()=>{let e=(0,_.v9)(e=>e.toaster.toasts),t=(0,_.I0)();return(0,a.jsx)(rz.Z,{className:rJ().wrapper,children:e.map(e=>(0,a.jsx)(rQ.Z,{timeout:300,classNames:{enter:rJ().toastEnter,enterActive:rJ().toastEnterActive,exit:rJ().toastExit,exitActive:rJ().toastExitActive},children:(0,a.jsx)("div",{className:rJ().toast,onClick:()=>t(eM(e.id)),children:e.content},e.id)},e.id))})},rU=()=>{let e=(0,_.I0)();return(0,ts.useEffect)(()=>{let t=setInterval(()=>{let t=ta.getState();t.resources.currencyT1>=50&&e(te.actions.addJournalEntry({key:"need_shop"})),t.resources.currencyT1>=5e4&&eP(t,e,"hoarder_gold"),t.resources.currencyT3>=5e4&&eP(t,e,"hoarder_spirit"),t.resources.currencyT3>=5e4&&eP(t,e,"hoarder_immortal");let r=!1;for(let e of Object.values(t.equipment.slots))if(null===e||Array.isArray(e)&&e.includes(null)){r=!0;break}r||eP(t,e,"locked_n_loaded"),t.player.mountRange>=900&&eP(t,e,"mount_range"),t.player.inventoryCap>=900&&eP(t,e,"storage_ring")},100);return()=>{clearInterval(t)}},[e]),null};let rY=console.error.bind(console);function rZ(){return(0,a.jsxs)(_.zt,{store:ta,children:[(0,a.jsx)(rF,{}),(0,a.jsx)(t$,{}),(0,a.jsx)(rU,{}),(0,a.jsx)(tM,{}),(0,a.jsx)("div",{className:n().main,children:(0,a.jsxs)("div",{className:c()(n().mainInner,n().container),children:[(0,a.jsx)("div",{className:n().sidebar,children:(0,a.jsx)(f,{})}),(0,a.jsxs)("div",{className:n().stage,children:[(0,a.jsx)(tU,{}),(0,a.jsx)("div",{className:n().playarea,children:(0,a.jsxs)("div",{className:c()(n().playareaInner),children:[(0,a.jsx)(tX,{}),(0,a.jsx)("div",{className:n().navContent,children:(0,a.jsx)("div",{className:n().navContentInner,children:(0,a.jsx)(rD,{})})})]})})]})]})}),(0,a.jsx)(rV,{})]})}console.error=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];let i=e;"object"==typeof e&&null!==e&&(i=JSON.stringify(e)),"string"==typeof i&&i.includes("MISSING_MESSAGE")||rY(e,...r)}},3844:function(e){e.exports={container:"page_container___4KXm",columns:"page_columns__jTqVk",beveled:"page_beveled__am_9c",btn:"page_btn__H7K_1",borderfadeLeft:"page_borderfadeLeft__ph2Tl",beveledLarge:"page_beveledLarge__QT4QS",bordercapLeft:"page_bordercapLeft__VdRO3",cornercap:"page_cornercap__aXDzL",cornercapTopLeft:"page_cornercapTopLeft__nT9Ct",cornercapTopRight:"page_cornercapTopRight__3JLfA",inventoryGrid:"page_inventoryGrid__RAZcX",select:"page_select__JMK4m",disabled:"page_disabled__bxR6V",header:"page_header__sYts9",main:"page_main__HA9zO",mainInner:"page_mainInner__2b_mh",sidebar:"page_sidebar__PFIy6",stage:"page_stage__Ad_RI",playarea:"page_playarea__9nXms",navContent:"page_navContent__SphV_",navContentInner:"page_navContentInner__DiyiL",button:"page_button__WICWr"}},1512:function(e){e.exports={container:"Bar_container__FB0Vn",columns:"Bar_columns__QD40Q",beveled:"Bar_beveled__AjDZb",btn:"Bar_btn__9Wx6n",borderfadeLeft:"Bar_borderfadeLeft__vLDFZ",beveledLarge:"Bar_beveledLarge__DOKyi",bordercapLeft:"Bar_bordercapLeft__TARQc",cornercap:"Bar_cornercap__NKCu1",cornercapTopLeft:"Bar_cornercapTopLeft__u1oAg",cornercapTopRight:"Bar_cornercapTopRight__P_hQY",inventoryGrid:"Bar_inventoryGrid__pDkRA",select:"Bar_select__FcXF0",disabled:"Bar_disabled__h3BzN",header:"Bar_header__dd2QF",wrapper:"Bar_wrapper__XzKWq",creature:"Bar_creature__QuMGo",shouldCapture:"Bar_shouldCapture__Ar7iH",bar:"Bar_bar__wLDjE",inner:"Bar_inner__4a91S",fill:"Bar_fill__2Kkhc",breakthrough:"Bar_breakthrough__w_xpa",pulseScale:"Bar_pulseScale__WcMHK",barInner:"Bar_barInner__FEH5O",barFill:"Bar_barFill__UONq0",caption:"Bar_caption__eeRdG",capturing:"Bar_capturing__D4fqJ"}},667:function(e){e.exports={container:"Button_container__j950m",columns:"Button_columns__OJ_3w",beveled:"Button_beveled__BgZUb",btn:"Button_btn___t8GZ",borderfadeLeft:"Button_borderfadeLeft__8rEdS",beveledLarge:"Button_beveledLarge__fvcqR",bordercapLeft:"Button_bordercapLeft__mMjxi",cornercap:"Button_cornercap__rjAIo",cornercapTopLeft:"Button_cornercapTopLeft__YHgQB",cornercapTopRight:"Button_cornercapTopRight__bCDvh",inventoryGrid:"Button_inventoryGrid__HfWAe",select:"Button_select__BM5IW",disabled:"Button_disabled__jJzcP",header:"Button_header__bG5JK",wrapper:"Button_wrapper__Q7fHm",main:"Button_main__w8glP",label:"Button_label__YUlJz"}},6788:function(e){e.exports={container:"ButtonActivity_container__wOp6_",columns:"ButtonActivity_columns__UkYnH",beveled:"ButtonActivity_beveled__hIoqo",btn:"ButtonActivity_btn__H0mWq",borderfadeLeft:"ButtonActivity_borderfadeLeft__UIs5q",beveledLarge:"ButtonActivity_beveledLarge__6BaDM",bordercapLeft:"ButtonActivity_bordercapLeft__5FLMY",cornercap:"ButtonActivity_cornercap__txD6l",cornercapTopLeft:"ButtonActivity_cornercapTopLeft__xPI_K",cornercapTopRight:"ButtonActivity_cornercapTopRight__l6kp6",inventoryGrid:"ButtonActivity_inventoryGrid__LzHdX",select:"ButtonActivity_select__snE02",disabled:"ButtonActivity_disabled__6JofI",header:"ButtonActivity_header__srcQL",wrapper:"ButtonActivity_wrapper__KBFdf",main:"ButtonActivity_main__9VJFT",label:"ButtonActivity_label__36lLu",sub:"ButtonActivity_sub__6RYiZ",avatars:"ButtonActivity_avatars__jvbYr",qty:"ButtonActivity_qty__PaM75"}},3459:function(e){e.exports={container:"ButtonAdventure_container__wSaU2",columns:"ButtonAdventure_columns__m_6SN",beveled:"ButtonAdventure_beveled__Fd1jh",btn:"ButtonAdventure_btn__VnRy_",borderfadeLeft:"ButtonAdventure_borderfadeLeft__XhI_x",beveledLarge:"ButtonAdventure_beveledLarge__ajDJ_",bordercapLeft:"ButtonAdventure_bordercapLeft__E88mh",cornercap:"ButtonAdventure_cornercap__gQuvR",cornercapTopLeft:"ButtonAdventure_cornercapTopLeft__t18K3",cornercapTopRight:"ButtonAdventure_cornercapTopRight__vm32f",inventoryGrid:"ButtonAdventure_inventoryGrid__alPOK",select:"ButtonAdventure_select__n9GWo",disabled:"ButtonAdventure_disabled__fUzxg",header:"ButtonAdventure_header__jufgg",wrapper:"ButtonAdventure_wrapper__XXoPq",active:"ButtonAdventure_active__H4ck0",main:"ButtonAdventure_main__tQqyg",label:"ButtonAdventure_label__zlImp",sub:"ButtonAdventure_sub__tsvop",avatars:"ButtonAdventure_avatars__DcAVk",qty:"ButtonAdventure_qty__SS6AA"}},3026:function(e){e.exports={container:"ButtonCraft_container__zrgzN",columns:"ButtonCraft_columns__8fMbW",beveled:"ButtonCraft_beveled__G2yPu",btn:"ButtonCraft_btn__pp6Kl",borderfadeLeft:"ButtonCraft_borderfadeLeft__SF5Uk",beveledLarge:"ButtonCraft_beveledLarge__CcUq5",bordercapLeft:"ButtonCraft_bordercapLeft__4rU2l",cornercap:"ButtonCraft_cornercap__v_w6y",cornercapTopLeft:"ButtonCraft_cornercapTopLeft__dQnuL",cornercapTopRight:"ButtonCraft_cornercapTopRight__ud3C6",inventoryGrid:"ButtonCraft_inventoryGrid__8s1PW",select:"ButtonCraft_select__Zqaci",disabled:"ButtonCraft_disabled__ak5Nn",header:"ButtonCraft_header__UTiAR",queuedItem:"ButtonCraft_queuedItem__q01N4",qtyWrap:"ButtonCraft_qtyWrap__Xrob_",shmover:"ButtonCraft_shmover__2adu9",uncraftable:"ButtonCraft_uncraftable___662C"}},1763:function(e){e.exports={container:"ButtonUpgrade_container___AcIi",columns:"ButtonUpgrade_columns__HfCFE",beveled:"ButtonUpgrade_beveled__a_6Gh",btn:"ButtonUpgrade_btn__AvH4Q",borderfadeLeft:"ButtonUpgrade_borderfadeLeft___sqq2",beveledLarge:"ButtonUpgrade_beveledLarge__DKFnr",bordercapLeft:"ButtonUpgrade_bordercapLeft__sxw_H",cornercap:"ButtonUpgrade_cornercap__xzDQW",cornercapTopLeft:"ButtonUpgrade_cornercapTopLeft__GXzma",cornercapTopRight:"ButtonUpgrade_cornercapTopRight___PL3I",inventoryGrid:"ButtonUpgrade_inventoryGrid__ZpDlV",select:"ButtonUpgrade_select__Sg0LD",disabled:"ButtonUpgrade_disabled__9HN_w",header:"ButtonUpgrade_header___TWad",wrapper:"ButtonUpgrade_wrapper___yPrS",main:"ButtonUpgrade_main__KgGuj",label:"ButtonUpgrade_label__dRvNC"}},2549:function(e){e.exports={container:"Cultivator_container__7fVJF",columns:"Cultivator_columns__PLMhc",beveled:"Cultivator_beveled__8dXDV",btn:"Cultivator_btn__n2LLE",borderfadeLeft:"Cultivator_borderfadeLeft__UXuz8",beveledLarge:"Cultivator_beveledLarge__LMWAr",bordercapLeft:"Cultivator_bordercapLeft__hd2N6",cornercap:"Cultivator_cornercap__nsXmP",cornercapTopLeft:"Cultivator_cornercapTopLeft__hFnDe",cornercapTopRight:"Cultivator_cornercapTopRight__6V_ov",inventoryGrid:"Cultivator_inventoryGrid__JXSts",select:"Cultivator_select__AeylA",disabled:"Cultivator_disabled__Tjfnz",header:"Cultivator_header__VoXRC",wrapper:"Cultivator_wrapper__HFHAZ",inner:"Cultivator_inner__SV53w",bars:"Cultivator_bars__KeVRA",graphic:"Cultivator_graphic__QMttI",avatar:"Cultivator_avatar__If6NM",avatars:"Cultivator_avatars__z_1nN","orbs-container":"Cultivator_orbs-container__JI2AA",orb:"Cultivator_orb__x_p74",floatUp:"Cultivator_floatUp___BQXS"}},5352:function(e){e.exports={container:"CultivatorOrbs_container__PbwRP",columns:"CultivatorOrbs_columns__E9u5q",beveled:"CultivatorOrbs_beveled__vgkm8",btn:"CultivatorOrbs_btn__0_5A6",borderfadeLeft:"CultivatorOrbs_borderfadeLeft__5GSuw",beveledLarge:"CultivatorOrbs_beveledLarge__0WBP_",bordercapLeft:"CultivatorOrbs_bordercapLeft__tKsZR",cornercap:"CultivatorOrbs_cornercap__fhdJp",cornercapTopLeft:"CultivatorOrbs_cornercapTopLeft__AwHDx",cornercapTopRight:"CultivatorOrbs_cornercapTopRight__3JgOa",inventoryGrid:"CultivatorOrbs_inventoryGrid__BwVxX",select:"CultivatorOrbs_select__jkdOK",disabled:"CultivatorOrbs_disabled__OQtdU",header:"CultivatorOrbs_header__L8IUe",orbs:"CultivatorOrbs_orbs__DRsAb",orb:"CultivatorOrbs_orb__nQJCc",floatUp:"CultivatorOrbs_floatUp__uYNOT",orbInner:"CultivatorOrbs_orbInner__mud8u",floatPulse:"CultivatorOrbs_floatPulse__DqR_o"}},9598:function(e){e.exports={container:"InputQty_container__TjMFX",columns:"InputQty_columns__oEmGV",beveled:"InputQty_beveled__p1NpI",btn:"InputQty_btn__fhCIf",borderfadeLeft:"InputQty_borderfadeLeft__eze0C",beveledLarge:"InputQty_beveledLarge__Q_WH1",bordercapLeft:"InputQty_bordercapLeft__jHH3e",cornercap:"InputQty_cornercap__DaBUX",cornercapTopLeft:"InputQty_cornercapTopLeft__agxNV",cornercapTopRight:"InputQty_cornercapTopRight__jlSMA",inventoryGrid:"InputQty_inventoryGrid__TmLgU",select:"InputQty_select__pGhsw",disabled:"InputQty_disabled__72AiP",header:"InputQty_header__YGkjC",qtyLarge:"InputQty_qtyLarge___C3Wh",qtySmall:"InputQty_qtySmall__hASCL"}},4227:function(e){e.exports={container:"Inventory_container__0C0Kr",columns:"Inventory_columns__PaiTE",beveled:"Inventory_beveled__OVINx",btn:"Inventory_btn__ZfCGI",borderfadeLeft:"Inventory_borderfadeLeft__LZflU",beveledLarge:"Inventory_beveledLarge__3P4a9",bordercapLeft:"Inventory_bordercapLeft__kUn5f",cornercap:"Inventory_cornercap__DXvAI",cornercapTopLeft:"Inventory_cornercapTopLeft__Y8_JD",cornercapTopRight:"Inventory_cornercapTopRight__KG_AH",inventoryGrid:"Inventory_inventoryGrid__qNA_H",select:"Inventory_select__JF8pk",disabled:"Inventory_disabled__xF401",header:"Inventory_header__loO_T",wrapper:"Inventory_wrapper__gCZCj",filter:"Inventory_filter__KWIlh",active:"Inventory_active__STA2u",grid:"Inventory_grid__ZoGk9"}},3633:function(e){e.exports={container:"Item_container___h4JL",columns:"Item_columns__DgeiE",beveled:"Item_beveled__n_bHK",btn:"Item_btn__gZm01",borderfadeLeft:"Item_borderfadeLeft__JMd51",beveledLarge:"Item_beveledLarge__lUfH3",bordercapLeft:"Item_bordercapLeft__XPh3Y",cornercap:"Item_cornercap__P_xI2",cornercapTopLeft:"Item_cornercapTopLeft__G3s9H",cornercapTopRight:"Item_cornercapTopRight__WZtyN",inventoryGrid:"Item_inventoryGrid__miggm",select:"Item_select__E2V9L",disabled:"Item_disabled__wFgSy",header:"Item_header__mGkFy",inner:"Item_inner__vwZvn",main:"Item_main__w6YwM",blank:"Item_blank__O3ITe",label:"Item_label__k7Vpt",qty:"Item_qty__bR85U",quality2:"Item_quality2__op9qU",quality3:"Item_quality3__Aw7pI",quality4:"Item_quality4__dvmNq",quality5:"Item_quality5__Cti0q",backdrop:"Item_backdrop__N1o6H"}},3034:function(e){e.exports={container:"ItemDetails_container__zfJma",columns:"ItemDetails_columns__7bC8C",beveled:"ItemDetails_beveled__esPdT",btn:"ItemDetails_btn__Vm2kq",borderfadeLeft:"ItemDetails_borderfadeLeft__Lyevc",beveledLarge:"ItemDetails_beveledLarge__mcvBa",bordercapLeft:"ItemDetails_bordercapLeft__PWldU",cornercap:"ItemDetails_cornercap__XSeIQ",cornercapTopLeft:"ItemDetails_cornercapTopLeft__l4HFG",cornercapTopRight:"ItemDetails_cornercapTopRight__jOgIp",inventoryGrid:"ItemDetails_inventoryGrid__C_9Ao",select:"ItemDetails_select__xtlHi",disabled:"ItemDetails_disabled__Ui_0y",header:"ItemDetails_header__X2zUp",details:"ItemDetails_details__7ElqD",subheading:"ItemDetails_subheading__RvCBM",group:"ItemDetails_group__sBnO7",effect:"ItemDetails_effect__Spi89",cost:"ItemDetails_cost__S_c1P"}},9198:function(e){e.exports={container:"Modal_container__T5Dvn",columns:"Modal_columns__tEktT",beveled:"Modal_beveled__FVZm2",btn:"Modal_btn__PKkPI",borderfadeLeft:"Modal_borderfadeLeft__3oXPk",beveledLarge:"Modal_beveledLarge__bSrGr",bordercapLeft:"Modal_bordercapLeft__9OVUd",cornercap:"Modal_cornercap__DPNHI",cornercapTopLeft:"Modal_cornercapTopLeft__QS8hW",cornercapTopRight:"Modal_cornercapTopRight__Wu4DV",inventoryGrid:"Modal_inventoryGrid__Yz8x1",select:"Modal_select__Y_TL4",disabled:"Modal_disabled__Qm6Rs",header:"Modal_header__8HSvT",overlay:"Modal_overlay__nbJY5",overlayShow:"Modal_overlayShow__qvZEY",content:"Modal_content__Fchkl",contentShow:"Modal_contentShow__0vQ7K",close:"Modal_close__AOA14"}},3661:function(e){e.exports={container:"ModalAchievements_container__osPYj",columns:"ModalAchievements_columns__qZKKv",beveled:"ModalAchievements_beveled__rSw1C",btn:"ModalAchievements_btn__pS7F1",borderfadeLeft:"ModalAchievements_borderfadeLeft__X21zI",beveledLarge:"ModalAchievements_beveledLarge__HmLpW",bordercapLeft:"ModalAchievements_bordercapLeft__Ww2HL",cornercap:"ModalAchievements_cornercap__489_e",cornercapTopLeft:"ModalAchievements_cornercapTopLeft__aG4Rb",cornercapTopRight:"ModalAchievements_cornercapTopRight__Kxe6j",inventoryGrid:"ModalAchievements_inventoryGrid__gySSp",select:"ModalAchievements_select__tP_VB",disabled:"ModalAchievements_disabled__EsV7v",header:"ModalAchievements_header__W_CLy",title:"ModalAchievements_title__LNxe8",description:"ModalAchievements_description__2M4_c",achievements:"ModalAchievements_achievements__KEazl",achieve:"ModalAchievements_achieve__72sMn",achieveInner:"ModalAchievements_achieveInner__AN1b5",achieveContent:"ModalAchievements_achieveContent__2vCJO",actions:"ModalAchievements_actions__ZsJze"}},8658:function(e){e.exports={container:"ModalConfirm_container__uR09O",columns:"ModalConfirm_columns__bfyeO",beveled:"ModalConfirm_beveled__K_xA0",btn:"ModalConfirm_btn__PjiGI",borderfadeLeft:"ModalConfirm_borderfadeLeft__5733S",beveledLarge:"ModalConfirm_beveledLarge__1IpC6",bordercapLeft:"ModalConfirm_bordercapLeft__rBq8s",cornercap:"ModalConfirm_cornercap__RI_3q",cornercapTopLeft:"ModalConfirm_cornercapTopLeft__g4R88",cornercapTopRight:"ModalConfirm_cornercapTopRight__7cY5m",inventoryGrid:"ModalConfirm_inventoryGrid__hfyaO",select:"ModalConfirm_select__66_6S",disabled:"ModalConfirm_disabled__X5Zp9",header:"ModalConfirm_header__FAzEp",title:"ModalConfirm_title__Pi_bW",description:"ModalConfirm_description__hMj8j",actions:"ModalConfirm_actions__O1WPt"}},9236:function(e){e.exports={container:"ModalEntity_container__UcFd6",columns:"ModalEntity_columns__QfokF",beveled:"ModalEntity_beveled__7SBua",btn:"ModalEntity_btn__Dloki",borderfadeLeft:"ModalEntity_borderfadeLeft__JRjMi",beveledLarge:"ModalEntity_beveledLarge__rIVje",bordercapLeft:"ModalEntity_bordercapLeft__5JnbY",cornercap:"ModalEntity_cornercap__RCtiE",cornercapTopLeft:"ModalEntity_cornercapTopLeft__4c2jl",cornercapTopRight:"ModalEntity_cornercapTopRight__3_PbZ",inventoryGrid:"ModalEntity_inventoryGrid__eK8Ni",select:"ModalEntity_select__dxcOv",disabled:"ModalEntity_disabled__ggoRp",header:"ModalEntity_header__3uodN",title:"ModalEntity_title__xCuda",description:"ModalEntity_description__h4C17",actions:"ModalEntity_actions__mt_SQ",btnPrimary:"ModalEntity_btnPrimary__G3k1o"}},3126:function(e){e.exports={container:"ModalJournal_container__wM0Od",columns:"ModalJournal_columns__swh_F",beveled:"ModalJournal_beveled___w2bl",btn:"ModalJournal_btn__ClWKl",borderfadeLeft:"ModalJournal_borderfadeLeft__Sb1tf",beveledLarge:"ModalJournal_beveledLarge__qUndP",bordercapLeft:"ModalJournal_bordercapLeft__qk9TY",cornercap:"ModalJournal_cornercap__hfvdj",cornercapTopLeft:"ModalJournal_cornercapTopLeft__9wO76",cornercapTopRight:"ModalJournal_cornercapTopRight__iQE4B",inventoryGrid:"ModalJournal_inventoryGrid__G8eNu",select:"ModalJournal_select__mGvGV",disabled:"ModalJournal_disabled__WCTce",header:"ModalJournal_header__A9d9G",title:"ModalJournal_title__E_fxL",scroll:"ModalJournal_scroll__qIDzT",entries:"ModalJournal_entries__6nlvy",body:"ModalJournal_body__Cqe5v"}},3172:function(e){e.exports={container:"NavBar_container__GYOFt",columns:"NavBar_columns__WNAkw",beveled:"NavBar_beveled__gZix_",btn:"NavBar_btn__m5eeo",borderfadeLeft:"NavBar_borderfadeLeft__x08z7",beveledLarge:"NavBar_beveledLarge__hQqbK",bordercapLeft:"NavBar_bordercapLeft__fNFRM",cornercap:"NavBar_cornercap__ZNWe4",cornercapTopLeft:"NavBar_cornercapTopLeft__AKHN_",cornercapTopRight:"NavBar_cornercapTopRight__dAzDN",inventoryGrid:"NavBar_inventoryGrid__YLQU1",select:"NavBar_select__KI6db",disabled:"NavBar_disabled__Z61fV",header:"NavBar_header__KrUSo",wrapper:"NavBar_wrapper__tnyAy",inner:"NavBar_inner__6jAVy",link:"NavBar_link__Qf8ag",active:"NavBar_active__6uHFz"}},5822:function(e){e.exports={container:"ScreenActivities_container__pGv_R",columns:"ScreenActivities_columns__tF6dR",beveled:"ScreenActivities_beveled___2ERz",btn:"ScreenActivities_btn__4C9M9",borderfadeLeft:"ScreenActivities_borderfadeLeft__ZLyFI",beveledLarge:"ScreenActivities_beveledLarge__kab3n",bordercapLeft:"ScreenActivities_bordercapLeft__nhST3",cornercap:"ScreenActivities_cornercap__NrklL",cornercapTopLeft:"ScreenActivities_cornercapTopLeft__Fiwm3",cornercapTopRight:"ScreenActivities_cornercapTopRight__ktLIv",inventoryGrid:"ScreenActivities_inventoryGrid__dwfU6",select:"ScreenActivities_select__8bSSJ",disabled:"ScreenActivities_disabled__2Esvf",header:"ScreenActivities_header__Fqnfq",wrapper:"ScreenActivities_wrapper__mA_X6",group:"ScreenActivities_group__FY5bo"}},9089:function(e){e.exports={container:"ScreenAdventure_container__zbe55",columns:"ScreenAdventure_columns__tIqpY",beveled:"ScreenAdventure_beveled__Q5s6s",btn:"ScreenAdventure_btn__7I1p2",borderfadeLeft:"ScreenAdventure_borderfadeLeft__owYcV",beveledLarge:"ScreenAdventure_beveledLarge__HVbie",bordercapLeft:"ScreenAdventure_bordercapLeft__8dTSb",cornercap:"ScreenAdventure_cornercap__j6X8K",cornercapTopLeft:"ScreenAdventure_cornercapTopLeft__ZiJuZ",cornercapTopRight:"ScreenAdventure_cornercapTopRight__tWv6o",inventoryGrid:"ScreenAdventure_inventoryGrid__PpArY",select:"ScreenAdventure_select__ThkCY",disabled:"ScreenAdventure_disabled__CeFyi",header:"ScreenAdventure_header__QyMem",wrapper:"ScreenAdventure_wrapper__f2JQP",adventures:"ScreenAdventure_adventures__7eurr",battles:"ScreenAdventure_battles__LoY3g",active:"ScreenAdventure_active__xz1qU",battlesList:"ScreenAdventure_battlesList__n_Ipg",headerButton:"ScreenAdventure_headerButton__BYQTd"}},286:function(e){e.exports={container:"ScreenCraft_container__kjiLP",columns:"ScreenCraft_columns__OTGda",beveled:"ScreenCraft_beveled__NFhpB",btn:"ScreenCraft_btn__LOTE3",borderfadeLeft:"ScreenCraft_borderfadeLeft__fIw7F",beveledLarge:"ScreenCraft_beveledLarge__nJCV2",bordercapLeft:"ScreenCraft_bordercapLeft__EP_U5",cornercap:"ScreenCraft_cornercap__rWKWe",cornercapTopLeft:"ScreenCraft_cornercapTopLeft__mnky1",cornercapTopRight:"ScreenCraft_cornercapTopRight__jtZD7",inventoryGrid:"ScreenCraft_inventoryGrid__BnGWA",select:"ScreenCraft_select__U30oH",disabled:"ScreenCraft_disabled__jI_iV",header:"ScreenCraft_header__7HgKE",wrapper:"ScreenCraft_wrapper__pjISN",craftingRecipes:"ScreenCraft_craftingRecipes__ex7RM",craftingQueue:"ScreenCraft_craftingQueue__iVS8N",avatars:"ScreenCraft_avatars__RCeGu",assigned:"ScreenCraft_assigned__zMewZ",queue:"ScreenCraft_queue__WT1yH"}},2971:function(e){e.exports={container:"ScreenHome_container__7Dfdk",columns:"ScreenHome_columns__9UWAu",beveled:"ScreenHome_beveled__7lzLk",btn:"ScreenHome_btn__heVJd",borderfadeLeft:"ScreenHome_borderfadeLeft__CZCxE",beveledLarge:"ScreenHome_beveledLarge__4V313",bordercapLeft:"ScreenHome_bordercapLeft__YB5LN",cornercap:"ScreenHome_cornercap__vQAso",cornercapTopLeft:"ScreenHome_cornercapTopLeft__CkF8Y",cornercapTopRight:"ScreenHome_cornercapTopRight__BNnK_",inventoryGrid:"ScreenHome_inventoryGrid__DSP_f",select:"ScreenHome_select__WIo_O",disabled:"ScreenHome_disabled__ZyOG1",header:"ScreenHome_header__EmcGt",preview:"ScreenHome_preview__zfeB_",entities:"ScreenHome_entities__Pb_od",areas:"ScreenHome_areas__P7f8M",furniture:"ScreenHome_furniture__Y0Tnf",disabledItem:"ScreenHome_disabledItem__21TLr"}},8778:function(e){e.exports={container:"ScreenPlayer_container__0Avn0",columns:"ScreenPlayer_columns__gCR7O",beveled:"ScreenPlayer_beveled__bOp5T",btn:"ScreenPlayer_btn__N_Bo0",borderfadeLeft:"ScreenPlayer_borderfadeLeft__1lvvi",beveledLarge:"ScreenPlayer_beveledLarge__bvLw2",bordercapLeft:"ScreenPlayer_bordercapLeft__4AUOb",cornercap:"ScreenPlayer_cornercap__fsFQe",cornercapTopLeft:"ScreenPlayer_cornercapTopLeft__922pI",cornercapTopRight:"ScreenPlayer_cornercapTopRight__hp3hR",inventoryGrid:"ScreenPlayer_inventoryGrid__B9__b",select:"ScreenPlayer_select__OM5O_",disabled:"ScreenPlayer_disabled__EtNdN",header:"ScreenPlayer_header__pU1ev",wrapper:"ScreenPlayer_wrapper__nEk0l",resourcesButton:"ScreenPlayer_resourcesButton__MbQ9k",aside:"ScreenPlayer_aside__SD186",stats:"ScreenPlayer_stats__FEucW",effects:"ScreenPlayer_effects__22uUb",stat:"ScreenPlayer_stat__2_SAV",statLabel:"ScreenPlayer_statLabel___00Yr",items:"ScreenPlayer_items__dcSuz",equipment:"ScreenPlayer_equipment__Y19D1",graphic:"ScreenPlayer_graphic__LwaRL",equipmentGroup:"ScreenPlayer_equipmentGroup__VuJ0Q",equipmentMain:"ScreenPlayer_equipmentMain__Fdx4R",equipmentMisc:"ScreenPlayer_equipmentMisc__X5xvE",loot:"ScreenPlayer_loot__Beq_g"}},3422:function(e){e.exports={container:"ScreenShop_container__yTRxL",columns:"ScreenShop_columns__Lwj5H",beveled:"ScreenShop_beveled__Mvj3r",btn:"ScreenShop_btn__bQq1_",borderfadeLeft:"ScreenShop_borderfadeLeft__zup2b",beveledLarge:"ScreenShop_beveledLarge__6Zt05",bordercapLeft:"ScreenShop_bordercapLeft__p3qaH",cornercap:"ScreenShop_cornercap__n6ziB",cornercapTopLeft:"ScreenShop_cornercapTopLeft__F3h7b",cornercapTopRight:"ScreenShop_cornercapTopRight__wGL0O",inventoryGrid:"ScreenShop_inventoryGrid__G5Hkd",select:"ScreenShop_select__l7rWa",disabled:"ScreenShop_disabled__ga00h",header:"ScreenShop_header__Y13ng",wrapper:"ScreenShop_wrapper__30Y44",shopInventory:"ScreenShop_shopInventory__bzOMJ",playerInventory:"ScreenShop_playerInventory__TLhqX"}},5933:function(e){e.exports={container:"SideBar_container__Bc43Q",columns:"SideBar_columns__u6Brf",beveled:"SideBar_beveled__d0cl2",btn:"SideBar_btn__OPdX7",borderfadeLeft:"SideBar_borderfadeLeft__Bgr2A",beveledLarge:"SideBar_beveledLarge__5haWI",bordercapLeft:"SideBar_bordercapLeft__3KSNK",cornercap:"SideBar_cornercap__iWGYw",cornercapTopLeft:"SideBar_cornercapTopLeft__JB6l9",cornercapTopRight:"SideBar_cornercapTopRight__YgU47",inventoryGrid:"SideBar_inventoryGrid__hwk5P",select:"SideBar_select__LUv18",disabled:"SideBar_disabled__Rx38v",header:"SideBar_header__aTals",wrapper:"SideBar_wrapper__qsVub",inner:"SideBar_inner__Fr7cQ",statGroup:"SideBar_statGroup__RlRbv",statHead:"SideBar_statHead__Qr6l0",stat:"SideBar_stat__0MD8P"}},4998:function(e){e.exports={container:"Toasts_container__5Nwcl",columns:"Toasts_columns__vtWTV",beveled:"Toasts_beveled__0e2uL",btn:"Toasts_btn__FSE1b",borderfadeLeft:"Toasts_borderfadeLeft__bo_ZW",beveledLarge:"Toasts_beveledLarge__4KR4w",bordercapLeft:"Toasts_bordercapLeft__HF7z1",cornercap:"Toasts_cornercap___CGzp",cornercapTopLeft:"Toasts_cornercapTopLeft__SexAk",cornercapTopRight:"Toasts_cornercapTopRight__KnZ2D",inventoryGrid:"Toasts_inventoryGrid__HY9HN",select:"Toasts_select__RMDDs",disabled:"Toasts_disabled__xT_Nc",header:"Toasts_header__3Vxe3",wrapper:"Toasts_wrapper__0MXFf",toast:"Toasts_toast__8e_OK",toastEnter:"Toasts_toastEnter__Di3Yt",toastEnterActive:"Toasts_toastEnterActive__fCLt4",toastExit:"Toasts_toastExit__BfTkM",toastExitActive:"Toasts_toastExitActive__GbXoK"}},5211:function(e){e.exports={container:"Tooltip_container__Xn4xP",columns:"Tooltip_columns___Y7iM",beveled:"Tooltip_beveled__vhZ0j",btn:"Tooltip_btn__FC4Ws",borderfadeLeft:"Tooltip_borderfadeLeft__ekB2O",beveledLarge:"Tooltip_beveledLarge__9D1K_",bordercapLeft:"Tooltip_bordercapLeft__2kLJ4",cornercap:"Tooltip_cornercap__K69rf",cornercapTopLeft:"Tooltip_cornercapTopLeft__MCfJT",cornercapTopRight:"Tooltip_cornercapTopRight__B0B6D",inventoryGrid:"Tooltip_inventoryGrid__s3PZi",select:"Tooltip_select__RBcDM",disabled:"Tooltip_disabled__orThQ",header:"Tooltip_header__iy5Yi",content:"Tooltip_content__VR2Ys",arrow:"Tooltip_arrow__uIoGg"}},4:function(e){e.exports={container:"TooltipCreature_container__6UfzR",columns:"TooltipCreature_columns__SeWAs",beveled:"TooltipCreature_beveled__GCffl",btn:"TooltipCreature_btn__hRtwe",borderfadeLeft:"TooltipCreature_borderfadeLeft__DhRWG",beveledLarge:"TooltipCreature_beveledLarge__39Jrs",bordercapLeft:"TooltipCreature_bordercapLeft__F5Kfg",cornercap:"TooltipCreature_cornercap__AKDPj",cornercapTopLeft:"TooltipCreature_cornercapTopLeft__ISLft",cornercapTopRight:"TooltipCreature_cornercapTopRight__5fFzB",inventoryGrid:"TooltipCreature_inventoryGrid__ATA2b",select:"TooltipCreature_select__5MTbX",disabled:"TooltipCreature_disabled__CYHBL",header:"TooltipCreature_header__BHJT_",wrapper:"TooltipCreature_wrapper__JndG8",heading:"TooltipCreature_heading__mT_6F",desc:"TooltipCreature_desc__suRoG",stats:"TooltipCreature_stats__qb16v",stat:"TooltipCreature_stat__TIA4M"}},134:function(e){e.exports={container:"TooltipEntity_container__8poUt",columns:"TooltipEntity_columns__zCIsj",beveled:"TooltipEntity_beveled__LHuLR",btn:"TooltipEntity_btn__RTchg",borderfadeLeft:"TooltipEntity_borderfadeLeft__BzNFP",beveledLarge:"TooltipEntity_beveledLarge__3zTxN",bordercapLeft:"TooltipEntity_bordercapLeft__uAbxJ",cornercap:"TooltipEntity_cornercap__flt6b",cornercapTopLeft:"TooltipEntity_cornercapTopLeft__NRs0l",cornercapTopRight:"TooltipEntity_cornercapTopRight__5UD2B",inventoryGrid:"TooltipEntity_inventoryGrid__sQwke",select:"TooltipEntity_select__HA5IW",disabled:"TooltipEntity_disabled__TcfYK",header:"TooltipEntity_header__vlz_v",wrapper:"TooltipEntity_wrapper__u7ONV",supheading:"TooltipEntity_supheading__FdR7A",subheading:"TooltipEntity_subheading__nvDWp",heading:"TooltipEntity_heading__E8mWj",desc:"TooltipEntity_desc__M0Zmi"}},5884:function(e){e.exports={container:"TopBar_container__8tDvu",columns:"TopBar_columns___Og2z",beveled:"TopBar_beveled__XTbMR",btn:"TopBar_btn__tAZIb",borderfadeLeft:"TopBar_borderfadeLeft__aiYEh",beveledLarge:"TopBar_beveledLarge__U9AlX",bordercapLeft:"TopBar_bordercapLeft__IYEdE",cornercap:"TopBar_cornercap__paKnr",cornercapTopLeft:"TopBar_cornercapTopLeft__EaEc5",cornercapTopRight:"TopBar_cornercapTopRight__hGKAp",inventoryGrid:"TopBar_inventoryGrid__G9Id5",select:"TopBar_select__gL6f_",disabled:"TopBar_disabled__ayIY_",header:"TopBar_header__lSRy2",wrapper:"TopBar_wrapper__dHcit",inner:"TopBar_inner__NC8qF",speed:"TopBar_speed__ZWrWF"}}},function(e){e.O(0,[676,216,611,643,971,69,744],function(){return e(e.s=3471)}),_N_E=e.O()}]);